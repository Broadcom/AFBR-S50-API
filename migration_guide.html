<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AFBR-S50 API Reference Manual: API Migration Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="AFBR-S50.ico"/></td>
  <td id="projectalign">
   <div id="projectname">AFBR-S50 API Reference Manual<span id="projectnumber">&#160;v1.5.6</span>
   </div>
   <div id="projectbrief">AFBR-S50 Time-of-Flight Sensor SDK for Embedded Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('migration_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">API Migration Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following document describes the changes to the <b>AFBR-S50 API</b> interface across the released versions. This is meant to assist developers in updating their code to a newer API version.</p>
<p>The API is usually not changing much between the versions, however, some features require to introduce breaking changes such that the user code needs to be adopted too. This document mainly focusses on the breaking changes only.</p>
<p>If migration over multiple releases is required, please refer to each of the corresponding sections below and apply the changes iteratively.</p>
<p>Please report any additional issues to the <a href="https://github.com/broadcom/afbr-s50-api/issues">AFBR-S50 GitHub repository</a>.</p>
<h1><a class="anchor" id="migration_guide_1_5"></a>
API Migration Guide (1.4.4 â†’ 1.5.6)</h1>
<p>The following document describes the changes to the <b>AFBR-S50 API</b> interface from <b>v1.4.4</b> to <b>v1.5.6</b>.</p>
<h2><a class="anchor" id="autotoc_md62"></a>
Overview of Changes</h2>
<p>The most changes to the last version of the <b>AFBR-S50 API, v1.5.6,</b> happened under the hood. Thus, there are only very minor changes regarding the offset calibration parameters to the API .</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Introduction of distinct global range offsets for low and high power stages</h2>
<p>To better compensate for the different range offsets of the low and high power stages, a second global range offset value has been introduced. The new value is only applied in the low power stage and thus does not affect the high power stage. However, the API function not require two offset values and the offset table data structure has changed from a two-dimensional array to a three-dimensional array.</p>
<p>Here are the changes in the API functions: </p><div class="fragment"><div class="line"><span class="comment">// v1.4.4 range offset functions with a single offset value</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> Argus_SetCalibrationGlobalRangeOffset(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> *<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> value);</div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> Argus_GetCalibrationGlobalRangeOffset(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> *<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> *value);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v1.5.6 range offset functions with a two distinct offset values</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga581ffa1c5ceec9f8da6cb5b3d1c98b98">Argus_SetCalibrationGlobalRangeOffsets</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> *<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> offset_low, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> offset_high);</div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga5f98415330a855d46a509654721f0a47">Argus_GetCalibrationGlobalRangeOffsets</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> *<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> *offset_low, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> *offset_high);</div>
<div class="ttc" id="agroup__argus__api_html_ga9923866e2d4ec9891ae79e1baae01b92"><div class="ttname"><a href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a></div><div class="ttdeci">struct argus_hnd_t argus_hnd_t</div><div class="ttdef"><b>Definition</b> argus_def.h:284</div></div>
<div class="ttc" id="agroup__argus__cal_html_ga581ffa1c5ceec9f8da6cb5b3d1c98b98"><div class="ttname"><a href="group__argus__cal.html#ga581ffa1c5ceec9f8da6cb5b3d1c98b98">Argus_SetCalibrationGlobalRangeOffsets</a></div><div class="ttdeci">status_t Argus_SetCalibrationGlobalRangeOffsets(argus_hnd_t *hnd, q0_15_t offset_low, q0_15_t offset_high)</div><div class="ttdoc">Sets the global range offset values to a specified device.</div></div>
<div class="ttc" id="agroup__argus__cal_html_ga5f98415330a855d46a509654721f0a47"><div class="ttname"><a href="group__argus__cal.html#ga5f98415330a855d46a509654721f0a47">Argus_GetCalibrationGlobalRangeOffsets</a></div><div class="ttdeci">status_t Argus_GetCalibrationGlobalRangeOffsets(argus_hnd_t *hnd, q0_15_t *offset_low, q0_15_t *offset_high)</div><div class="ttdoc">Gets the global range offset values from a specified device.</div></div>
<div class="ttc" id="agroup__argus__fp_html_ga691a6a4ad9903499ab691c5c00095b42"><div class="ttname"><a href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a></div><div class="ttdeci">int16_t q0_15_t</div><div class="ttdoc">Signed fixed point number: Q0.15.</div><div class="ttdef"><b>Definition</b> fp_def.h:381</div></div>
<div class="ttc" id="agroup__argus__status_html_gaaabdaf7ee58ca7269bd4bf24efcde092"><div class="ttname"><a href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a></div><div class="ttdeci">int32_t status_t</div><div class="ttdoc">Type used for all status and error return values.</div><div class="ttdef"><b>Definition</b> argus_status.h:70</div></div>
<div class="ttc" id="agroup__can__app_html_ga2d27bf0fb9aa6adc91a167402541c03b"><div class="ttname"><a href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a></div><div class="ttdeci">argus_hnd_t * hnd</div><div class="ttdef"><b>Definition</b> main.c:100</div></div>
</div><!-- fragment --><p>Here are the corresponding changes in the data structure: </p><div class="fragment"><div class="line"><span class="comment">// v1.4.4 range offset table data structure wrapping a two dimensional array</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_union" href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a></div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> <a class="code hl_variable" href="unionargus__cal__offset__table__t.html#a87e25792a12438189dda5f0aaba7de11">Table</a>[<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>];</div>
<div class="line"> </div>
<div class="line">} <a class="code hl_union" href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v1.5.6 range offset table data structure wrapping a three dimensional array</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">union </span><a class="code hl_union" href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> <a class="code hl_variable" href="unionargus__cal__offset__table__t.html#aefa526ad215b1a76300099e097746211">LowPower</a>[<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>];</div>
<div class="line">        <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> <a class="code hl_variable" href="unionargus__cal__offset__table__t.html#ace36ec6cddc4a75ab2d31c9d7552ce9f">HighPower</a>[<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>];</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> <a class="code hl_variable" href="unionargus__cal__offset__table__t.html#a87e25792a12438189dda5f0aaba7de11">Table</a>[<a class="code hl_define" href="group__argus__dca.html#gadd2e521eb1823ec7c6b4aead711d900d">ARGUS_DCA_POWER_STAGE_COUNT</a>][<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>];</div>
<div class="line"> </div>
<div class="line">} <a class="code hl_union" href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a>;</div>
<div class="ttc" id="agroup__argus__api_html_ga17627acf84a462e4500a28f8ada462d4"><div class="ttname"><a href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a></div><div class="ttdeci">#define ARGUS_PIXELS_Y</div><div class="ttdoc">The device pixel field size in y direction (short edge).</div><div class="ttdef"><b>Definition</b> argus_def.h:77</div></div>
<div class="ttc" id="agroup__argus__api_html_ga9228747d6ab08e18b28c3787c5cf5810"><div class="ttname"><a href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a></div><div class="ttdeci">#define ARGUS_PIXELS_X</div><div class="ttdoc">The device pixel field size in x direction (long edge).</div><div class="ttdef"><b>Definition</b> argus_def.h:72</div></div>
<div class="ttc" id="agroup__argus__dca_html_gadd2e521eb1823ec7c6b4aead711d900d"><div class="ttname"><a href="group__argus__dca.html#gadd2e521eb1823ec7c6b4aead711d900d">ARGUS_DCA_POWER_STAGE_COUNT</a></div><div class="ttdeci">#define ARGUS_DCA_POWER_STAGE_COUNT</div><div class="ttdef"><b>Definition</b> argus_dca.h:116</div></div>
<div class="ttc" id="aunionargus__cal__offset__table__t_html"><div class="ttname"><a href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a></div><div class="ttdoc">Pixel Range Offset Table.</div><div class="ttdef"><b>Definition</b> argus_offset.h:55</div></div>
<div class="ttc" id="aunionargus__cal__offset__table__t_html_a87e25792a12438189dda5f0aaba7de11"><div class="ttname"><a href="unionargus__cal__offset__table__t.html#a87e25792a12438189dda5f0aaba7de11">argus_cal_offset_table_t::Table</a></div><div class="ttdeci">q0_15_t Table[ARGUS_DCA_POWER_STAGE_COUNT][ARGUS_PIXELS_X][ARGUS_PIXELS_Y]</div><div class="ttdef"><b>Definition</b> argus_offset.h:69</div></div>
<div class="ttc" id="aunionargus__cal__offset__table__t_html_ace36ec6cddc4a75ab2d31c9d7552ce9f"><div class="ttname"><a href="unionargus__cal__offset__table__t.html#ace36ec6cddc4a75ab2d31c9d7552ce9f">argus_cal_offset_table_t::HighPower</a></div><div class="ttdeci">q0_15_t HighPower[ARGUS_PIXELS_X][ARGUS_PIXELS_Y]</div><div class="ttdef"><b>Definition</b> argus_offset.h:64</div></div>
<div class="ttc" id="aunionargus__cal__offset__table__t_html_aefa526ad215b1a76300099e097746211"><div class="ttname"><a href="unionargus__cal__offset__table__t.html#aefa526ad215b1a76300099e097746211">argus_cal_offset_table_t::LowPower</a></div><div class="ttdeci">q0_15_t LowPower[ARGUS_PIXELS_X][ARGUS_PIXELS_Y]</div><div class="ttdef"><b>Definition</b> argus_offset.h:60</div></div>
</div><!-- fragment --><h1><a class="anchor" id="migration_guide_1_4"></a>
API Migration Guide (1.3.5 â†’ 1.4.4)</h1>
<p>The following document describes the changes to the <b>AFBR-S50 API</b> interface from <b>v1.3.5</b> to <b>v1.4.4</b>.</p>
<p>Due to many improvements and new features in <b>v1.4.4</b>, such as multi-device support, high-speed measurement modes and memory footprint reduction, the API interface has changed significantly this time.</p>
<h2><a class="anchor" id="autotoc_md64"></a>
Overview of Changes</h2>
<p>The latest version of the <b>AFBR-S50 API, v1.4.4,</b> includes several significant changes that improve the performance and functionality of the sensor. These changes include:</p>
<ul>
<li><b>Memory Footprint Reduction</b>: The new version of the API reduces the memory footprint of the library by removing the second measurement mode from the API. This means that the ability to dynamically switch between Long and Short Range Modes has been removed. Although this feature has been removed, it has resulted in a more efficient and compact library. Still, the API is capable of switching between measurement modes, but the user must re-initialize the API or use a dedicated function to change the measurement mode. This change has also removed the measurement mode parameter from most of the API functions. Beneath reducing the memory footprint, this change also allowed the introduction of additional measurements modes such as the high-speed modes.</li>
<li><b>High-Speed Modes</b>: The new version of the API includes additional measurement modes that are dedicated to high speed measurements. These new modes allow for measurement frame rate up to 3000 frames per second, making the sensor more versatile and applicable to a wider range of use cases. Please note that the maximum limit of the frame rate highly depends on the used microcontroller.</li>
<li><b>Multi-Device Support</b>: The latest version of the API now allows simultaneous usage of multiple devices per microcontroller. This means that developers can now use multiple sensors with a single microcontroller, which can significantly reduce the cost and complexity of their applications. The multiple device act independently and share a single SPI and Timer interface. The API automatically handles the resource management within the API such that there is no need for the user to manage the resources. The only limitation is the requirement of a common frame rate if multiple devices are used with a single periodic interrupt timer.</li>
</ul>
<h2><a class="anchor" id="autotoc_md65"></a>
Removal of Dual-Measurement Modes And Adding of Advanced Measurement Modes</h2>
<p>The main implication of the API change is the removal of the measurement mode parameter in most of the API functions. In order to migrate to the new version, simply remove the measurement mode parameter from each function call. Instead, set the measurement mode at initialization time (via <a class="el" href="group__argus__api.html#ga7bd03721a1412baf755c81a2d2dab06e" title="Initializes the device with specified measurement mode.">Argus_InitMode</a>) or use the dedicated <a class="el" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a" title="Sets the measurement mode to a specified device.">Argus_SetMeasurementMode</a> function to load the desired measurement mode from ROM. All changes to the default parameters must be done afterward.</p>
<p><b>v1.3.5</b>: The measurement mode can be changed at any time via the <a class="el" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a" title="Sets the measurement mode to a specified device.">Argus_SetMeasurementMode</a> function. Other API calls must pass the measurement mode parameter (<code>mode</code>).</p>
<div class="fragment"><div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__api.html#ga7d724a6657138f112bff554f7db2a898">Argus_Init</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_define" href="group__example__apps.html#ga943af7f8a98cf5a3f2107ed593215a4b">SPI_SLAVE</a>); <span class="comment">// uses default (ARGUS_MODE_A)</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> mode = ARGUS_MODE_B;</div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a">Argus_SetMeasurementMode</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, mode);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set measurement mode failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#ga4cbd36364ff0d30d7ab26de3cd70038d">Argus_SetConfigurationDFMMode</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, mode, <a class="code hl_enumvalue" href="group__argus__dfm.html#gga7bc09bd5d6bc9fdfd24106382efc15b1ab761348f36166536d56b2bb226dbb154">DFM_MODE_OFF</a>);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set DFM failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#gad53a4685f4843402584c556d7265cfa0">Argus_SetConfigurationSmartPowerSaveEnabled</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, mode, <span class="keyword">false</span>);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set smart power save mode failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#gaa6d970c42ac21e56907247f58a029472">Argus_SetConfigurationFrameTime</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, 1000);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set frame time failed!&quot;</span>);</div>
<div class="ttc" id="agroup__argus__api_html_ga7d724a6657138f112bff554f7db2a898"><div class="ttname"><a href="group__argus__api.html#ga7d724a6657138f112bff554f7db2a898">Argus_Init</a></div><div class="ttdeci">status_t Argus_Init(argus_hnd_t *hnd, s2pi_slave_t spi_slave)</div><div class="ttdoc">Initializes the device with default measurement mode.</div></div>
<div class="ttc" id="agroup__argus__api_html_gabe8846d7abef63b75e8147f4f142708b"><div class="ttname"><a href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a></div><div class="ttdeci">argus_mode_t</div><div class="ttdoc">The measurement modes.</div><div class="ttdef"><b>Definition</b> argus_def.h:264</div></div>
<div class="ttc" id="agroup__argus__cfg_html_ga4cbd36364ff0d30d7ab26de3cd70038d"><div class="ttname"><a href="group__argus__cfg.html#ga4cbd36364ff0d30d7ab26de3cd70038d">Argus_SetConfigurationDFMMode</a></div><div class="ttdeci">status_t Argus_SetConfigurationDFMMode(argus_hnd_t *hnd, argus_dfm_mode_t value)</div><div class="ttdoc">Sets the Dual Frequency Mode (DFM) to a specified device.</div></div>
<div class="ttc" id="agroup__argus__cfg_html_ga7a8b1f2d5ef7af38016e4cdf32bb864a"><div class="ttname"><a href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a">Argus_SetMeasurementMode</a></div><div class="ttdeci">status_t Argus_SetMeasurementMode(argus_hnd_t *hnd, argus_mode_t mode)</div><div class="ttdoc">Sets the measurement mode to a specified device.</div></div>
<div class="ttc" id="agroup__argus__cfg_html_gaa6d970c42ac21e56907247f58a029472"><div class="ttname"><a href="group__argus__cfg.html#gaa6d970c42ac21e56907247f58a029472">Argus_SetConfigurationFrameTime</a></div><div class="ttdeci">status_t Argus_SetConfigurationFrameTime(argus_hnd_t *hnd, uint32_t value)</div><div class="ttdoc">Sets the frame time to a specified device.</div></div>
<div class="ttc" id="agroup__argus__cfg_html_gad53a4685f4843402584c556d7265cfa0"><div class="ttname"><a href="group__argus__cfg.html#gad53a4685f4843402584c556d7265cfa0">Argus_SetConfigurationSmartPowerSaveEnabled</a></div><div class="ttdeci">status_t Argus_SetConfigurationSmartPowerSaveEnabled(argus_hnd_t *hnd, bool value)</div><div class="ttdoc">Sets the smart power save enabled flag to a specified device.</div></div>
<div class="ttc" id="agroup__argus__dfm_html_gga7bc09bd5d6bc9fdfd24106382efc15b1ab761348f36166536d56b2bb226dbb154"><div class="ttname"><a href="group__argus__dfm.html#gga7bc09bd5d6bc9fdfd24106382efc15b1ab761348f36166536d56b2bb226dbb154">DFM_MODE_OFF</a></div><div class="ttdeci">@ DFM_MODE_OFF</div><div class="ttdef"><b>Definition</b> argus_dfm.h:73</div></div>
<div class="ttc" id="agroup__argus__xtk__cli_html_gaea26d52d2e16010e3e3e3ce0e8a1a0ce"><div class="ttname"><a href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a></div><div class="ttdeci">static status_t status</div><div class="ttdef"><b>Definition</b> argus_xtalk_cal_cli.c:140</div></div>
<div class="ttc" id="agroup__can__app_html_gadac4458c88ff5ecae510f35ef38c4b35"><div class="ttname"><a href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a></div><div class="ttdeci">void handle_error(status_t status, char const *msg)</div><div class="ttdoc">A very brief example for error handling.</div><div class="ttdef"><b>Definition</b> main.c:265</div></div>
<div class="ttc" id="agroup__example__apps_html_ga943af7f8a98cf5a3f2107ed593215a4b"><div class="ttname"><a href="group__example__apps.html#ga943af7f8a98cf5a3f2107ed593215a4b">SPI_SLAVE</a></div><div class="ttdeci">#define SPI_SLAVE</div><div class="ttdef"><b>Definition</b> examples.h:102</div></div>
</div><!-- fragment --><p><b>v1.4.4</b>: The new API must set the measurement mode (via <a class="el" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a" title="Sets the measurement mode to a specified device.">Argus_SetMeasurementMode</a>) as the first change as it reloads the default parameters from ROM and overwrites all previous made changes. Note that the measurement mode is loaded upon device initialization. Using the <a class="el" href="group__argus__api.html#ga7d724a6657138f112bff554f7db2a898" title="Initializes the device with default measurement mode.">Argus_Init</a> function will load the corresponding default measurement mode. The <a class="el" href="group__argus__api.html#ga7bd03721a1412baf755c81a2d2dab06e" title="Initializes the device with specified measurement mode.">Argus_InitMode</a> function is used to specify the measurement mode at initialization time.</p>
<div class="fragment"><div class="line"><span class="comment">// Initialize with default measurement mode</span></div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__api.html#ga7d724a6657138f112bff554f7db2a898">Argus_Init</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_define" href="group__example__apps.html#ga943af7f8a98cf5a3f2107ed593215a4b">SPI_SLAVE</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Alternatively initialize with specified measurement mode</span></div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__api.html#ga7bd03721a1412baf755c81a2d2dab06e">Argus_InitMode</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_define" href="group__example__apps.html#ga943af7f8a98cf5a3f2107ed593215a4b">SPI_SLAVE</a>, <a class="code hl_enumvalue" href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708bab179938ce318d56f13c3ceeb961f5a4f">ARGUS_MODE_HIGH_SPEED_SHORT_RANGE</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Change the measurement mode after initialization</span></div>
<div class="line"><a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> mode = ARGUS_MODE_ARGUS_MODE_HIGH_SPEED_SHORT_RANGE;</div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a">Argus_SetMeasurementMode</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, mode);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set measurement mode failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Apply additional changes to the default parameters afterwards</span></div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#ga4cbd36364ff0d30d7ab26de3cd70038d">Argus_SetConfigurationDFMMode</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_enumvalue" href="group__argus__dfm.html#gga7bc09bd5d6bc9fdfd24106382efc15b1ab761348f36166536d56b2bb226dbb154">DFM_MODE_OFF</a>);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set DFM failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#gad53a4685f4843402584c556d7265cfa0">Argus_SetConfigurationSmartPowerSaveEnabled</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <span class="keyword">false</span>);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set smart power save failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a> = <a class="code hl_function" href="group__argus__cfg.html#gaa6d970c42ac21e56907247f58a029472">Argus_SetConfigurationFrameTime</a>(<a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, 1000);</div>
<div class="line"><a class="code hl_function" href="group__can__app.html#gadac4458c88ff5ecae510f35ef38c4b35">handle_error</a>(<a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="stringliteral">&quot;set frame time failed!&quot;</span>);</div>
<div class="ttc" id="agroup__argus__api_html_ga7bd03721a1412baf755c81a2d2dab06e"><div class="ttname"><a href="group__argus__api.html#ga7bd03721a1412baf755c81a2d2dab06e">Argus_InitMode</a></div><div class="ttdeci">status_t Argus_InitMode(argus_hnd_t *hnd, s2pi_slave_t spi_slave, argus_mode_t mode)</div><div class="ttdoc">Initializes the device with specified measurement mode.</div></div>
<div class="ttc" id="agroup__argus__api_html_ggabe8846d7abef63b75e8147f4f142708bab179938ce318d56f13c3ceeb961f5a4f"><div class="ttname"><a href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708bab179938ce318d56f13c3ceeb961f5a4f">ARGUS_MODE_HIGH_SPEED_SHORT_RANGE</a></div><div class="ttdeci">@ ARGUS_MODE_HIGH_SPEED_SHORT_RANGE</div><div class="ttdef"><b>Definition</b> argus_def.h:274</div></div>
</div><!-- fragment --><p>Note that also the measurement mode enumeration has changed to describe the new measurement modes better.</p>
<p>The old measurement mode enumeration is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// v1.3.5 measurement mode enumeration</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">    ARGUS_MODE_A</div>
<div class="line"> </div>
<div class="line">    ARGUS_MODE_B</div>
<div class="line"> </div>
<div class="line">} <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a>;</div>
</div><!-- fragment --><p>The new measurement mode enumeration is as follows. Note that new measurement modes may be added in future releases.</p>
<div class="fragment"><div class="line"><span class="comment">// v1.4.4 measurement mode enumeration</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumvalue" href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba3f1cd051ab96ab58af154fa8c05b224d">ARGUS_MODE_SHORT_RANGE</a></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_enumvalue" href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba1231e50e905c1b8a0e8db8365b7f5b5e">ARGUS_MODE_LONG_RANGE</a></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_enumvalue" href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708bab179938ce318d56f13c3ceeb961f5a4f">ARGUS_MODE_HIGH_SPEED_SHORT_RANGE</a></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_enumvalue" href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba02bc024bf73b356406314e887b455017">ARGUS_MODE_HIGH_SPEED_LONG_RANGE</a></div>
<div class="line"> </div>
<div class="line">} <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a>;</div>
<div class="ttc" id="agroup__argus__api_html_ggabe8846d7abef63b75e8147f4f142708ba02bc024bf73b356406314e887b455017"><div class="ttname"><a href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba02bc024bf73b356406314e887b455017">ARGUS_MODE_HIGH_SPEED_LONG_RANGE</a></div><div class="ttdeci">@ ARGUS_MODE_HIGH_SPEED_LONG_RANGE</div><div class="ttdef"><b>Definition</b> argus_def.h:278</div></div>
<div class="ttc" id="agroup__argus__api_html_ggabe8846d7abef63b75e8147f4f142708ba1231e50e905c1b8a0e8db8365b7f5b5e"><div class="ttname"><a href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba1231e50e905c1b8a0e8db8365b7f5b5e">ARGUS_MODE_LONG_RANGE</a></div><div class="ttdeci">@ ARGUS_MODE_LONG_RANGE</div><div class="ttdef"><b>Definition</b> argus_def.h:270</div></div>
<div class="ttc" id="agroup__argus__api_html_ggabe8846d7abef63b75e8147f4f142708ba3f1cd051ab96ab58af154fa8c05b224d"><div class="ttname"><a href="group__argus__api.html#ggabe8846d7abef63b75e8147f4f142708ba3f1cd051ab96ab58af154fa8c05b224d">ARGUS_MODE_SHORT_RANGE</a></div><div class="ttdeci">@ ARGUS_MODE_SHORT_RANGE</div><div class="ttdef"><b>Definition</b> argus_def.h:266</div></div>
</div><!-- fragment --><p>Note that there are additional API methods to change the measurement mode:</p>
<div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> <a class="code hl_function" href="group__argus__cfg.html#ga91f7f5de4952604b7babb07275f9d3de">Argus_GetDefaultMeasurementMode</a>(<a class="code hl_enumeration" href="group__argus__api.html#ga46f240b890cd62efe83bf2d095277470">argus_module_version_t</a> module);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cfg.html#ga7a8b1f2d5ef7af38016e4cdf32bb864a">Argus_SetMeasurementMode</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> mode);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cfg.html#ga3848efc6d2629e8e974b8b40833a08ba">Argus_ResetMeasurementMode</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cfg.html#ga53012ad46eb4cef690e9f7011ea0c5e5">Argus_GetMeasurementMode</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> * mode);</div>
<div class="ttc" id="agroup__argus__api_html_ga46f240b890cd62efe83bf2d095277470"><div class="ttname"><a href="group__argus__api.html#ga46f240b890cd62efe83bf2d095277470">argus_module_version_t</a></div><div class="ttdeci">argus_module_version_t</div><div class="ttdoc">The AFBR-S50 module types.</div><div class="ttdef"><b>Definition</b> argus_def.h:93</div></div>
<div class="ttc" id="agroup__argus__cfg_html_ga3848efc6d2629e8e974b8b40833a08ba"><div class="ttname"><a href="group__argus__cfg.html#ga3848efc6d2629e8e974b8b40833a08ba">Argus_ResetMeasurementMode</a></div><div class="ttdeci">status_t Argus_ResetMeasurementMode(argus_hnd_t *hnd)</div><div class="ttdoc">Resets the measurement mode to a specified device.</div></div>
<div class="ttc" id="agroup__argus__cfg_html_ga53012ad46eb4cef690e9f7011ea0c5e5"><div class="ttname"><a href="group__argus__cfg.html#ga53012ad46eb4cef690e9f7011ea0c5e5">Argus_GetMeasurementMode</a></div><div class="ttdeci">status_t Argus_GetMeasurementMode(argus_hnd_t *hnd, argus_mode_t *mode)</div><div class="ttdoc">Gets the measurement mode from a specified device.</div></div>
<div class="ttc" id="agroup__argus__cfg_html_ga91f7f5de4952604b7babb07275f9d3de"><div class="ttname"><a href="group__argus__cfg.html#ga91f7f5de4952604b7babb07275f9d3de">Argus_GetDefaultMeasurementMode</a></div><div class="ttdeci">argus_mode_t Argus_GetDefaultMeasurementMode(argus_module_version_t module)</div><div class="ttdoc">Gets the default measurement mode for a specified module type.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md66"></a>
Improved Measurement Ready Callback</h2>
<p>The measurement ready callback has been updated to include the concrete handle pointer (<code>argus_hnd_t*</code>) instead of an abstract pointer (<code>void*</code>). This removes the need to cast from <code>void*</code> to the <code>argus_hnd_t*</code> when passing to the <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> method.</p>
<div class="fragment"><div class="line"><span class="comment">// old callback signature with void * data as second parameter</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> (*argus_callback_t)(<a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, <span class="keywordtype">void</span> * data);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// new callback signature with argus_hnd_t * hnd as second parameter</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> (*<a class="code hl_typedef" href="group__argus__api.html#ga4cd3ecbeee9434d900a18a817b0e2f79">argus_measurement_ready_callback_t</a>)(<a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_variable" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>,</div>
<div class="line">                                                       <a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>);</div>
<div class="ttc" id="agroup__argus__api_html_ga4cd3ecbeee9434d900a18a817b0e2f79"><div class="ttname"><a href="group__argus__api.html#ga4cd3ecbeee9434d900a18a817b0e2f79">argus_measurement_ready_callback_t</a></div><div class="ttdeci">status_t(* argus_measurement_ready_callback_t)(status_t status, argus_hnd_t *hnd)</div><div class="ttdoc">Measurement Ready API callback function.</div><div class="ttdef"><b>Definition</b> argus_def.h:315</div></div>
</div><!-- fragment --><p>In consequence, the <a class="el" href="group__argus__meas.html#ga4c115715544c1f66cf39f1a1f649f093" title="Triggers a single measurement frame asynchronously.">Argus_TriggerMeasurement</a> and <a class="el" href="group__argus__meas.html#gabe59a112f841d59e435510d3c17c9db1" title="Starts the timer based measurement cycle asynchronously.">Argus_StartMeasurementTimer</a> methods have changed accordingly:</p>
<div class="fragment"><div class="line"><span class="comment">// old signature</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#gabe59a112f841d59e435510d3c17c9db1">Argus_StartMeasurementTimer</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, argus_callback_t cb);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// new signature</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#gabe59a112f841d59e435510d3c17c9db1">Argus_StartMeasurementTimer</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__api.html#ga4cd3ecbeee9434d900a18a817b0e2f79">argus_measurement_ready_callback_t</a> cb);</div>
<div class="ttc" id="agroup__argus__meas_html_gabe59a112f841d59e435510d3c17c9db1"><div class="ttname"><a href="group__argus__meas.html#gabe59a112f841d59e435510d3c17c9db1">Argus_StartMeasurementTimer</a></div><div class="ttdeci">status_t Argus_StartMeasurementTimer(argus_hnd_t *hnd, argus_measurement_ready_callback_t cb)</div><div class="ttdoc">Starts the timer based measurement cycle asynchronously.</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// old signature</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga4c115715544c1f66cf39f1a1f649f093">Argus_TriggerMeasurement</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, argus_callback_t cb);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// new signature</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga4c115715544c1f66cf39f1a1f649f093">Argus_TriggerMeasurement</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_typedef" href="group__argus__api.html#ga4cd3ecbeee9434d900a18a817b0e2f79">argus_measurement_ready_callback_t</a> cb);</div>
<div class="ttc" id="agroup__argus__meas_html_ga4c115715544c1f66cf39f1a1f649f093"><div class="ttname"><a href="group__argus__meas.html#ga4c115715544c1f66cf39f1a1f649f093">Argus_TriggerMeasurement</a></div><div class="ttdeci">status_t Argus_TriggerMeasurement(argus_hnd_t *hnd, argus_measurement_ready_callback_t cb)</div><div class="ttdoc">Triggers a single measurement frame asynchronously.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md67"></a>
Improved Measurement Evaluate Function</h2>
<p>The <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> function has been updated and the abstract <code>void * raw</code> pointer has been remove. The API is handling the raw data buffer now internally and the user does not need to handle the pointer any more.</p>
<div class="fragment"><div class="line"><span class="comment">// old signature with void * raw as third parameter</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf">Argus_EvaluateData</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_struct" href="structargus__results__t.html">argus_results_t</a> * res, <span class="keywordtype">void</span> * raw);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// new clean signature without the void * raw as third parameter</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf">Argus_EvaluateData</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_struct" href="structargus__results__t.html">argus_results_t</a> * res);</div>
<div class="ttc" id="agroup__argus__meas_html_ga2f130afc115837409b99efaaaf5baedf"><div class="ttname"><a href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf">Argus_EvaluateData</a></div><div class="ttdeci">status_t Argus_EvaluateData(argus_hnd_t *hnd, argus_results_t *res)</div><div class="ttdoc">Evaluates measurement data from the raw sensor readout data.</div></div>
<div class="ttc" id="astructargus__results__t_html"><div class="ttname"><a href="structargus__results__t.html">argus_results_t</a></div><div class="ttdoc">The measurement results data structure.</div><div class="ttdef"><b>Definition</b> argus_res.h:199</div></div>
</div><!-- fragment --><p>The requirement to call <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> exactly once per invocation of the measurement ready callback is still present. The API will return an error if <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> is called more than once. On the other hand, the API will get stuck if <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> is not called at all. Please use the new method <a class="el" href="group__argus__meas.html#ga632a3a4470c1d14e564aeec7ee6e7dfd" title="Determines whether a data evaluation is pending.">Argus_IsDataEvaluationPending</a> to determine if raw data is available and requires evaluation.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="group__argus__meas.html#ga632a3a4470c1d14e564aeec7ee6e7dfd">Argus_IsDataEvaluationPending</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>);</div>
<div class="ttc" id="agroup__argus__meas_html_ga632a3a4470c1d14e564aeec7ee6e7dfd"><div class="ttname"><a href="group__argus__meas.html#ga632a3a4470c1d14e564aeec7ee6e7dfd">Argus_IsDataEvaluationPending</a></div><div class="ttdeci">bool Argus_IsDataEvaluationPending(argus_hnd_t *hnd)</div><div class="ttdoc">Determines whether a data evaluation is pending.</div></div>
</div><!-- fragment --><p>Note: The <a class="el" href="group__argus__meas.html#ga632a3a4470c1d14e564aeec7ee6e7dfd" title="Determines whether a data evaluation is pending.">Argus_IsDataEvaluationPending</a> does not replace the <a class="el" href="group__argus__meas.html#gaa80d0b10b2366f0ade05b4d7b9243497" title="Checks the state of the device/driver.">Argus_GetStatus</a> function. Still, one needs to call the <a class="el" href="group__argus__meas.html#gaa80d0b10b2366f0ade05b4d7b9243497" title="Checks the state of the device/driver.">Argus_GetStatus</a> function to determine if the measurement is ready in case of <a class="el" href="group__argus__meas.html#ga4c115715544c1f66cf39f1a1f649f093" title="Triggers a single measurement frame asynchronously.">Argus_TriggerMeasurement</a> or to check for timeout in case of running measurements via <a class="el" href="group__argus__meas.html#gabe59a112f841d59e435510d3c17c9db1" title="Starts the timer based measurement cycle asynchronously.">Argus_StartMeasurementTimer</a><code>. See also the API reference manual documentation of #Argus_GetStatus and #Argus_IsDataEvaluationPending</code> functions for more information.</p>
<h2><a class="anchor" id="autotoc_md68"></a>
Changed Data Types for Crosstalk and Offset Tables</h2>
<p>The new data types <code><a class="el" href="unionargus__cal__offset__table__t.html" title="Pixel Range Offset Table.">argus_cal_offset_table_t</a></code> and <code><a class="el" href="unionargus__cal__xtalk__table__t.html" title="Pixel Crosstalk Vector Table.">argus_cal_xtalk_table_t</a></code> have been introduced for passing offset and crosstalk tables in and out of the API.</p>
<p>Function affected are:</p>
<ul>
<li><a class="el" href="group__argus__cal.html#ga01c224a4455da0c2e1a61437d14900a7" title="Sets the custom crosstalk vector table to a specified device.">Argus_SetCalibrationCrosstalkVectorTable</a></li>
<li><a class="el" href="group__argus__cal.html#gaa563f03391bc856b36010e196b798be2" title="Gets the custom crosstalk vector table from a specified device.">Argus_GetCalibrationCrosstalkVectorTable</a></li>
<li><a class="el" href="group__argus__cal.html#ga3648d519cb88c31f762c53b3419d7cc9" title="A callback that returns the external crosstalk vector table.">Argus_GetCrosstalkVectorTable_Callback</a></li>
<li><a class="el" href="group__argus__cal.html#ga73e202090136dd1dde9ed98317f211da" title="Sets the relative pixel offset table to a specified device.">Argus_SetCalibrationPixelRangeOffsets</a></li>
<li><a class="el" href="group__argus__cal.html#ga0a065a573c8800a93b8add2bf19ac926" title="Gets the relative pixel offset table from a specified device.">Argus_GetCalibrationPixelRangeOffsets</a></li>
<li><a class="el" href="group__argus__cal.html#gae20ff4200752093a667a231220137b47" title="A callback that returns the external pixel range offsets.">Argus_GetPixelRangeOffsets_Callback</a></li>
</ul>
<p>Here is an example for the crosstalk related functions: </p><div class="fragment"><div class="line"><span class="comment">// v1.3.5 crosstalk functions used 3-dimensional arrays</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga01c224a4455da0c2e1a61437d14900a7">Argus_SetCalibrationCrosstalkVectorTable</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> mode, <a class="code hl_struct" href="structxtalk__t.html">xtalk_t</a> value[<a class="code hl_define" href="group__argus__dfm.html#ga4cdc2f697753df8d7aab471335e94eb8">ARGUS_DFM_FRAME_COUNT</a>][<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v1.4.4 use dedicated struct containing that data</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga01c224a4455da0c2e1a61437d14900a7">Argus_SetCalibrationCrosstalkVectorTable</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_union" href="unionargus__cal__xtalk__table__t.html">argus_cal_xtalk_table_t</a> <span class="keyword">const</span> * value);</div>
<div class="ttc" id="agroup__argus__cal_html_ga01c224a4455da0c2e1a61437d14900a7"><div class="ttname"><a href="group__argus__cal.html#ga01c224a4455da0c2e1a61437d14900a7">Argus_SetCalibrationCrosstalkVectorTable</a></div><div class="ttdeci">status_t Argus_SetCalibrationCrosstalkVectorTable(argus_hnd_t *hnd, argus_cal_xtalk_table_t const *value)</div><div class="ttdoc">Sets the custom crosstalk vector table to a specified device.</div></div>
<div class="ttc" id="agroup__argus__dfm_html_ga4cdc2f697753df8d7aab471335e94eb8"><div class="ttname"><a href="group__argus__dfm.html#ga4cdc2f697753df8d7aab471335e94eb8">ARGUS_DFM_FRAME_COUNT</a></div><div class="ttdeci">#define ARGUS_DFM_FRAME_COUNT</div><div class="ttdef"><b>Definition</b> argus_dfm.h:64</div></div>
<div class="ttc" id="astructxtalk__t_html"><div class="ttname"><a href="structxtalk__t.html">xtalk_t</a></div><div class="ttdoc">Pixel Crosstalk Compensation Vector.</div><div class="ttdef"><b>Definition</b> argus_xtalk.h:58</div></div>
<div class="ttc" id="aunionargus__cal__xtalk__table__t_html"><div class="ttname"><a href="unionargus__cal__xtalk__table__t.html">argus_cal_xtalk_table_t</a></div><div class="ttdoc">Pixel Crosstalk Vector Table.</div><div class="ttdef"><b>Definition</b> argus_xtalk.h:77</div></div>
</div><!-- fragment --><p>Here is an example for the offset related functions:</p>
<div class="fragment"><div class="line"><span class="comment">// v1.3.5 range offset functions used 2-dimensional arrays</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga73e202090136dd1dde9ed98317f211da">Argus_SetCalibrationPixelRangeOffsets</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_enumeration" href="group__argus__api.html#gabe8846d7abef63b75e8147f4f142708b">argus_mode_t</a> mode, <a class="code hl_typedef" href="group__argus__fp.html#ga691a6a4ad9903499ab691c5c00095b42">q0_15_t</a> value[<a class="code hl_define" href="group__argus__api.html#ga9228747d6ab08e18b28c3787c5cf5810">ARGUS_PIXELS_X</a>][<a class="code hl_define" href="group__argus__api.html#ga17627acf84a462e4500a28f8ada462d4">ARGUS_PIXELS_Y</a>]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v1.4.4 use dedicated struct containing that data</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__cal.html#ga73e202090136dd1dde9ed98317f211da">Argus_SetCalibrationPixelRangeOffsets</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_union" href="unionargus__cal__offset__table__t.html">argus_cal_offset_table_t</a> <span class="keyword">const</span> * value);</div>
<div class="ttc" id="agroup__argus__cal_html_ga73e202090136dd1dde9ed98317f211da"><div class="ttname"><a href="group__argus__cal.html#ga73e202090136dd1dde9ed98317f211da">Argus_SetCalibrationPixelRangeOffsets</a></div><div class="ttdeci">status_t Argus_SetCalibrationPixelRangeOffsets(argus_hnd_t *hnd, argus_cal_offset_table_t const *value)</div><div class="ttdoc">Sets the relative pixel offset table to a specified device.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md69"></a>
Advanced Debug Data Structure for Argus_EvaluateData</h2>
<p>In order to obtain additional debug information without any impact on the measurement performance, a new debug data structure (<a class="el" href="structargus__results__debug__t.html" title="The debug data of measurement results data structure.">argus_results_debug_t</a>) has been introduced. A new function, <a class="el" href="group__argus__meas.html#ga6f20ea0283d90ba59625869eb1b302d8" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateDataDebug</a>, is added to the API to receive an optional pointer to that structure. The debug data structure is optional and can be set to <code>NULL</code> if not required. Please note that in that case it is recommended to use the <a class="el" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf" title="Evaluates measurement data from the raw sensor readout data.">Argus_EvaluateData</a> function instead.</p>
<div class="fragment"><div class="line"><span class="comment">// Evaluate data without generation of debug data</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga2f130afc115837409b99efaaaf5baedf">Argus_EvaluateData</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_struct" href="structargus__results__t.html">argus_results_t</a> * res);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Evaluate data that generates additional debug data</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__meas.html#ga6f20ea0283d90ba59625869eb1b302d8">Argus_EvaluateDataDebug</a>(<a class="code hl_typedef" href="group__argus__api.html#ga9923866e2d4ec9891ae79e1baae01b92">argus_hnd_t</a> * <a class="code hl_variable" href="group__can__app.html#ga2d27bf0fb9aa6adc91a167402541c03b">hnd</a>, <a class="code hl_struct" href="structargus__results__t.html">argus_results_t</a> * res, <a class="code hl_struct" href="structargus__results__debug__t.html">argus_results_debug_t</a> * dbg);</div>
<div class="ttc" id="agroup__argus__meas_html_ga6f20ea0283d90ba59625869eb1b302d8"><div class="ttname"><a href="group__argus__meas.html#ga6f20ea0283d90ba59625869eb1b302d8">Argus_EvaluateDataDebug</a></div><div class="ttdeci">status_t Argus_EvaluateDataDebug(argus_hnd_t *hnd, argus_results_t *res, argus_results_debug_t *dbg)</div><div class="ttdoc">Evaluates measurement data from the raw sensor readout data.</div></div>
<div class="ttc" id="astructargus__results__debug__t_html"><div class="ttname"><a href="structargus__results__debug__t.html">argus_results_debug_t</a></div><div class="ttdoc">The debug data of measurement results data structure.</div><div class="ttdef"><b>Definition</b> argus_res.h:143</div></div>
</div><!-- fragment --><p>Please note that this debug information is usually not required and should only be used if explicitly requested for debugging purposes.</p>
<h2><a class="anchor" id="autotoc_md70"></a>
S2PI Hardware Abstraction Layer (HAL) Changes</h2>
<p>In order to support multiple devices, the S2PI layer has been updated to receive the SPI slave on every function. Further, two new functions are added that are required for the API to prevent access conflicts between multiple devices.</p>
<h3><a class="anchor" id="autotoc_md71"></a>
Changed HAL Functions in the S2PI layer</h3>
<p>The following functions have an added <code>slave</code> parameter. If there is no need for multiple device support, the parameter can be ignored (e.g. via <code>(void)slave;</code>).</p>
<div class="fragment"><div class="line"><span class="comment">// Changed functions</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071">S2PI_GetStatus</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void)slave;</div>
<div class="line">    <span class="comment">// previous implementation without slave ...</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf">S2PI_CaptureGpioControl</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void)slave;</div>
<div class="line">    <span class="comment">// previous implementation without slave ...</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772">S2PI_ReleaseGpioControl</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void)slave;</div>
<div class="line">    <span class="comment">// previous implementation without slave ...</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__s2pi.html#ga0c25817265b19af4a9579b569774b171">S2PI_Abort</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void)slave;</div>
<div class="line">    <span class="comment">// previous implementation without slave ...</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__argus__api_html_gaa236b64d7430965890e9c6834e24c317"><div class="ttname"><a href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></div><div class="ttdeci">int32_t s2pi_slave_t</div><div class="ttdef"><b>Definition</b> argus_api.h:67</div></div>
<div class="ttc" id="agroup__argus__s2pi_html_ga0c25817265b19af4a9579b569774b171"><div class="ttname"><a href="group__argus__s2pi.html#ga0c25817265b19af4a9579b569774b171">S2PI_Abort</a></div><div class="ttdeci">status_t S2PI_Abort(s2pi_slave_t slave)</div><div class="ttdoc">Terminates a currently ongoing asynchronous SPI transfer.</div></div>
<div class="ttc" id="agroup__argus__s2pi_html_ga35cc8f0eeec245733773f34bd5985772"><div class="ttname"><a href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772">S2PI_ReleaseGpioControl</a></div><div class="ttdeci">status_t S2PI_ReleaseGpioControl(s2pi_slave_t slave)</div><div class="ttdoc">Releases the S2PI pins from GPIO usage and switches back to SPI mode.</div></div>
<div class="ttc" id="agroup__argus__s2pi_html_ga48abf1c772d2f89436cba9c32a1cdcaf"><div class="ttname"><a href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf">S2PI_CaptureGpioControl</a></div><div class="ttdeci">status_t S2PI_CaptureGpioControl(s2pi_slave_t slave)</div><div class="ttdoc">Captures the S2PI pins for GPIO usage.</div></div>
<div class="ttc" id="agroup__argus__s2pi_html_ga979bf52b555605a0e0c471627cd46071"><div class="ttname"><a href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071">S2PI_GetStatus</a></div><div class="ttdeci">status_t S2PI_GetStatus(s2pi_slave_t slave)</div><div class="ttdoc">Returns the status of the SPI module.</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md72"></a>
Added HAL Functions in the S2PI layer</h3>
<p>The newly added functions in the <code>s2pi.h/c</code> module are <a class="el" href="group__argus__s2pi.html#ga0b8104cb170c7cd08c702ac0fd01039d" title="Tries to grab the SPI interface mutex for the next transfer.">S2PI_TryGetMutex</a> and <a class="el" href="group__argus__s2pi.html#ga50973ed176c6a73d9bbca7cbcbcadc2a" title="Releases the SPI interface mutex.">S2PI_ReleaseMutex</a>. If there is no need for multiple device support, the function can be ignored and simply return <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Added functions</span></div>
<div class="line"><a class="code hl_typedef" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="code hl_function" href="group__argus__s2pi.html#ga0b8104cb170c7cd08c702ac0fd01039d">S2PI_TryGetMutex</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void) slave;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group__argus__s2pi.html#ga50973ed176c6a73d9bbca7cbcbcadc2a">S2PI_ReleaseMutex</a>(<a class="code hl_typedef" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</div>
<div class="line">{</div>
<div class="line">    (void) slave;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__argus__s2pi_html_ga0b8104cb170c7cd08c702ac0fd01039d"><div class="ttname"><a href="group__argus__s2pi.html#ga0b8104cb170c7cd08c702ac0fd01039d">S2PI_TryGetMutex</a></div><div class="ttdeci">status_t S2PI_TryGetMutex(s2pi_slave_t slave)</div><div class="ttdoc">Tries to grab the SPI interface mutex for the next transfer.</div></div>
<div class="ttc" id="agroup__argus__s2pi_html_ga50973ed176c6a73d9bbca7cbcbcadc2a"><div class="ttname"><a href="group__argus__s2pi.html#ga50973ed176c6a73d9bbca7cbcbcadc2a">S2PI_ReleaseMutex</a></div><div class="ttdeci">void S2PI_ReleaseMutex(s2pi_slave_t slave)</div><div class="ttdoc">Releases the SPI interface mutex.</div></div>
<div class="ttc" id="agroup__argus__status_html_gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566"><div class="ttname"><a href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a></div><div class="ttdeci">@ STATUS_OK</div><div class="ttdef"><b>Definition</b> argus_status.h:80</div></div>
</div><!-- fragment --><p>In case of multi device support, refer to the API reference documentation of the <a class="el" href="group__argus__s2pi.html#ga0b8104cb170c7cd08c702ac0fd01039d" title="Tries to grab the SPI interface mutex for the next transfer.">S2PI_TryGetMutex</a> and <a class="el" href="group__argus__s2pi.html#ga50973ed176c6a73d9bbca7cbcbcadc2a" title="Releases the SPI interface mutex.">S2PI_ReleaseMutex</a> functions for a reference implementation of that mechanism. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="footer"> 
			<a href="https://www.broadcom.com/">Broadcom Inc.</a>
		</li>
	</ul>
</div>
</body>
</html>