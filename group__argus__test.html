<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AFBR-S50 API Reference Manual: HAL Self Test</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="AFBR-S50.ico"/></td>
  <td id="projectalign">
   <div id="projectname">AFBR-S50 API Reference Manual<span id="projectnumber">&#160;v1.6.5</span>
   </div>
   <div id="projectbrief">AFBR-S50 Time-of-Flight Sensor SDK for Embedded Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__argus__test.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">HAL Self Test<div class="ingroups"><a class="el" href="group__argus.html">AFBR-S50 SDK</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A test module to verify implementation of the HAL.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for HAL Self Test:</div>
<div class="dyncontent">
<div class="center"><img src="group__argus__test.png" border="0" usemap="#agroup____argus____test" alt=""/></div>
<map name="agroup____argus____test" id="agroup____argus____test">
<area shape="rect" href="group__argus.html" title="AFBR&#45;S50 API and Core Libraries." alt="" coords="5,5,119,31"/>
<area shape="rect" title="A test module to verify implementation of the HAL." alt="" coords="167,5,270,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad9aa36016956a22b772d409089f0867d" id="r_gad9aa36016956a22b772d409089f0867d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad9aa36016956a22b772d409089f0867d">error_log</a>(fmt, ...)</td></tr>
<tr class="separator:gad9aa36016956a22b772d409089f0867d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1166162e755f430cb62825791eb4735" id="r_gaa1166162e755f430cb62825791eb4735"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa1166162e755f430cb62825791eb4735">HAL_TEST_VERSION</a>&#160;&#160;&#160;&quot;v1.4&quot;</td></tr>
<tr class="memdesc:gaa1166162e755f430cb62825791eb4735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number of the HAL Self Test.  <br /></td></tr>
<tr class="separator:gaa1166162e755f430cb62825791eb4735"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac03e69d9e7a97f137e4f08a679c5e941" id="r_gac03e69d9e7a97f137e4f08a679c5e941"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac03e69d9e7a97f137e4f08a679c5e941">VerifyHALImplementation</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> spi_slave)</td></tr>
<tr class="memdesc:gac03e69d9e7a97f137e4f08a679c5e941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a series of tests in order to verify the HAL implementation.  <br /></td></tr>
<tr class="separator:gac03e69d9e7a97f137e4f08a679c5e941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41c21ea56565af755955055ffee11a05" id="r_ga41c21ea56565af755955055ffee11a05"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga41c21ea56565af755955055ffee11a05">TimerPlausibilityTest</a> (void)</td></tr>
<tr class="memdesc:ga41c21ea56565af755955055ffee11a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plausibility Test for Timer HAL Implementation.  <br /></td></tr>
<tr class="separator:ga41c21ea56565af755955055ffee11a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga980f35ff76c95550b670cf77db10f09d" id="r_ga980f35ff76c95550b670cf77db10f09d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga980f35ff76c95550b670cf77db10f09d">TimerWraparoundTest</a> (void)</td></tr>
<tr class="memdesc:ga980f35ff76c95550b670cf77db10f09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraparound Test for the Timer HAL Implementation.  <br /></td></tr>
<tr class="separator:ga980f35ff76c95550b670cf77db10f09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66cbe1a4a0fc626ff7131e3a1a62fc8d" id="r_ga66cbe1a4a0fc626ff7131e3a1a62fc8d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga66cbe1a4a0fc626ff7131e3a1a62fc8d">SpiConnectionTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga66cbe1a4a0fc626ff7131e3a1a62fc8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Connection Test for S2PI HAL Implementation.  <br /></td></tr>
<tr class="separator:ga66cbe1a4a0fc626ff7131e3a1a62fc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c8c5a3658ad01d3da1fd7f1377c009a" id="r_ga1c8c5a3658ad01d3da1fd7f1377c009a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1c8c5a3658ad01d3da1fd7f1377c009a">SpiMaxLengthTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga1c8c5a3658ad01d3da1fd7f1377c009a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum SPI Data Size Test for S2PI HAL Implementation.  <br /></td></tr>
<tr class="separator:ga1c8c5a3658ad01d3da1fd7f1377c009a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae88074199ee51b5974679686149976d6" id="r_gae88074199ee51b5974679686149976d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae88074199ee51b5974679686149976d6">GpioInterruptTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:gae88074199ee51b5974679686149976d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Interrupt Test for S2PI HAL Implementation.  <br /></td></tr>
<tr class="separator:gae88074199ee51b5974679686149976d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b603e7cdf2dc1f7d563204561d4eb69" id="r_ga9b603e7cdf2dc1f7d563204561d4eb69"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9b603e7cdf2dc1f7d563204561d4eb69">GpioModeTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga9b603e7cdf2dc1f7d563204561d4eb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO Mode Test for S2PI HAL Implementation.  <br /></td></tr>
<tr class="separator:ga9b603e7cdf2dc1f7d563204561d4eb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga659f3fe16eb4b0b025f5ef6338850f14" id="r_ga659f3fe16eb4b0b025f5ef6338850f14"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga659f3fe16eb4b0b025f5ef6338850f14">TimerTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga659f3fe16eb4b0b025f5ef6338850f14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test for Timer HAL Implementation by comparing timings to the device.  <br /></td></tr>
<tr class="separator:ga659f3fe16eb4b0b025f5ef6338850f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae37b5a660ee500760b4b83680a789408" id="r_gae37b5a660ee500760b4b83680a789408"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae37b5a660ee500760b4b83680a789408">PITTest</a> (void)</td></tr>
<tr class="memdesc:gae37b5a660ee500760b4b83680a789408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test for PIT HAL Implementation by comparing timings to the device.  <br /></td></tr>
<tr class="separator:gae37b5a660ee500760b4b83680a789408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27a209a4e756f9b4548b9b5040287c7b" id="r_ga27a209a4e756f9b4548b9b5040287c7b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga27a209a4e756f9b4548b9b5040287c7b">SpiTransferFromInterruptTest</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga27a209a4e756f9b4548b9b5040287c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Transfer from Interrupt Test for S2PI HAL Implementation.  <br /></td></tr>
<tr class="separator:ga27a209a4e756f9b4548b9b5040287c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac78eb59125d9954d9104ca21ed2014ed" id="r_gac78eb59125d9954d9104ca21ed2014ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac78eb59125d9954d9104ca21ed2014ed">CheckTimerCounterValues</a> (uint32_t hct, uint32_t lct)</td></tr>
<tr class="memdesc:gac78eb59125d9954d9104ca21ed2014ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the validity of timer counter values.  <br /></td></tr>
<tr class="separator:gac78eb59125d9954d9104ca21ed2014ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fe1dddf82d3558b7820acb4dc5d6a09" id="r_ga2fe1dddf82d3558b7820acb4dc5d6a09"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2fe1dddf82d3558b7820acb4dc5d6a09">SPITransferSync</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, uint8_t *data, size_t size)</td></tr>
<tr class="memdesc:ga2fe1dddf82d3558b7820acb4dc5d6a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for transfer data to SPI in blocking mode.  <br /></td></tr>
<tr class="separator:ga2fe1dddf82d3558b7820acb4dc5d6a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3f9878573bb6d8a97ea811307bfb181" id="r_gad3f9878573bb6d8a97ea811307bfb181"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad3f9878573bb6d8a97ea811307bfb181">ConfigureDevice</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, int8_t rcoTrim)</td></tr>
<tr class="memdesc:gad3f9878573bb6d8a97ea811307bfb181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the device with a bare minimum setup to run the tests.  <br /></td></tr>
<tr class="separator:gad3f9878573bb6d8a97ea811307bfb181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50cb46632e54a6c66bd513506759e348" id="r_ga50cb46632e54a6c66bd513506759e348"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga50cb46632e54a6c66bd513506759e348">TriggerMeasurement</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, uint16_t samples, <a class="el" href="group__argus__s2pi.html#ga0146c4f3ef32320d6fc869b9018ffeeb">s2pi_callback_t</a> callback, void *callbackData)</td></tr>
<tr class="memdesc:ga50cb46632e54a6c66bd513506759e348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers a measurement on the device with specified sample count.  <br /></td></tr>
<tr class="separator:ga50cb46632e54a6c66bd513506759e348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79a2ce2f53fd60f372505daf74310e89" id="r_ga79a2ce2f53fd60f372505daf74310e89"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga79a2ce2f53fd60f372505daf74310e89">ReadEEPROM</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, uint8_t *eeprom)</td></tr>
<tr class="memdesc:ga79a2ce2f53fd60f372505daf74310e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the EEPROM byte-wise and applies Hamming weight.  <br /></td></tr>
<tr class="separator:ga79a2ce2f53fd60f372505daf74310e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84e9bed5f5b5498836ee576282f85585" id="r_ga84e9bed5f5b5498836ee576282f85585"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga84e9bed5f5b5498836ee576282f85585">ReadRcoTrim</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, int8_t *rcotrim)</td></tr>
<tr class="memdesc:ga84e9bed5f5b5498836ee576282f85585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the RCO_TRIM value from the devices EEPROM.  <br /></td></tr>
<tr class="separator:ga84e9bed5f5b5498836ee576282f85585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga574338ce27c9762e0f6f29b285a5c98c" id="r_ga574338ce27c9762e0f6f29b285a5c98c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga574338ce27c9762e0f6f29b285a5c98c">RunMeasurement</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave, uint16_t samples)</td></tr>
<tr class="memdesc:ga574338ce27c9762e0f6f29b285a5c98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers a measurement on the device and waits for the data ready interrupt.  <br /></td></tr>
<tr class="separator:ga574338ce27c9762e0f6f29b285a5c98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77ada738d9ac6ace8866e898d11fad10" id="r_ga77ada738d9ac6ace8866e898d11fad10"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga77ada738d9ac6ace8866e898d11fad10">RunPITTest</a> (uint32_t exp_dt_us, uint32_t n)</td></tr>
<tr class="memdesc:ga77ada738d9ac6ace8866e898d11fad10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a PIT measurement and verifies the callback interval.  <br /></td></tr>
<tr class="separator:ga77ada738d9ac6ace8866e898d11fad10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c007da7582f5d0ea99a78fc570ce28a" id="r_ga8c007da7582f5d0ea99a78fc570ce28a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8c007da7582f5d0ea99a78fc570ce28a">PIT_Callback</a> (void *param)</td></tr>
<tr class="memdesc:ga8c007da7582f5d0ea99a78fc570ce28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function invoked by the PIT.  <br /></td></tr>
<tr class="separator:ga8c007da7582f5d0ea99a78fc570ce28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabf543227ed5f382c0838b534f4cd590" id="r_gaabf543227ed5f382c0838b534f4cd590"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaabf543227ed5f382c0838b534f4cd590">GPIO_Callback</a> (void *param)</td></tr>
<tr class="memdesc:gaabf543227ed5f382c0838b534f4cd590"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IRQ callback dedicated to the <a class="el" href="#gae88074199ee51b5974679686149976d6" title="SPI Interrupt Test for S2PI HAL Implementation.">GpioInterruptTest</a>.  <br /></td></tr>
<tr class="separator:gaabf543227ed5f382c0838b534f4cd590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaefab65deb7fdee9faeb9f713e88c6d" id="r_gaeaefab65deb7fdee9faeb9f713e88c6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeaefab65deb7fdee9faeb9f713e88c6d">Argus_VerifyHALImplementation</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> spi_slave)</td></tr>
<tr class="memdesc:gaeaefab65deb7fdee9faeb9f713e88c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a series of tests in order to verify the HAL implementation.  <br /></td></tr>
<tr class="separator:gaeaefab65deb7fdee9faeb9f713e88c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92646bc9dd4734c05b2a6da1644c56a2" id="r_ga92646bc9dd4734c05b2a6da1644c56a2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga92646bc9dd4734c05b2a6da1644c56a2">SpiTransferInterruptCallback</a> (<a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="el" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, void *param)</td></tr>
<tr class="memdesc:ga92646bc9dd4734c05b2a6da1644c56a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI interrupt callback function for the SPI transfer interrupt test.  <br /></td></tr>
<tr class="separator:ga92646bc9dd4734c05b2a6da1644c56a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3ac59ad4d04a59b10bdfc82d80d3cf8" id="r_gaa3ac59ad4d04a59b10bdfc82d80d3cf8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa3ac59ad4d04a59b10bdfc82d80d3cf8">GPIO_SPI_Callback</a> (<a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="el" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, void *param)</td></tr>
<tr class="memdesc:gaa3ac59ad4d04a59b10bdfc82d80d3cf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SPI transfer callback dedicated to the <a class="el" href="#gae88074199ee51b5974679686149976d6" title="SPI Interrupt Test for S2PI HAL Implementation.">GpioInterruptTest</a>.  <br /></td></tr>
<tr class="separator:gaa3ac59ad4d04a59b10bdfc82d80d3cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbe38b477d2e0181623d5649b5564578" id="r_gacbe38b477d2e0181623d5649b5564578"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacbe38b477d2e0181623d5649b5564578">MeasurementCallback</a> (void *param)</td></tr>
<tr class="memdesc:gacbe38b477d2e0181623d5649b5564578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for the data ready interrupt.  <br /></td></tr>
<tr class="separator:gacbe38b477d2e0181623d5649b5564578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03c63fbf22df75c0fcfee715fcbf22e6" id="r_ga03c63fbf22df75c0fcfee715fcbf22e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga03c63fbf22df75c0fcfee715fcbf22e6">SpiTransferFromSpiInterruptCallback</a> (<a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> <a class="el" href="group__argus__xtk__cli.html#gaea26d52d2e16010e3e3e3ce0e8a1a0ce">status</a>, void *param)</td></tr>
<tr class="memdesc:ga03c63fbf22df75c0fcfee715fcbf22e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI interrupt callback function for the SPI transfer from IRQ test.  <br /></td></tr>
<tr class="separator:ga03c63fbf22df75c0fcfee715fcbf22e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04c1542f0a3250e50afb55709d2f0d95" id="r_ga04c1542f0a3250e50afb55709d2f0d95"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga04c1542f0a3250e50afb55709d2f0d95">SpiTransferFromSpiInterrupt</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga04c1542f0a3250e50afb55709d2f0d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transfer from SPI interrupt callback test.  <br /></td></tr>
<tr class="separator:ga04c1542f0a3250e50afb55709d2f0d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae822d8b6792c77654a3399d707a496c3" id="r_gae822d8b6792c77654a3399d707a496c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae822d8b6792c77654a3399d707a496c3">SpiTransferFromGpioInterruptCallback</a> (void *param)</td></tr>
<tr class="memdesc:gae822d8b6792c77654a3399d707a496c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO interrupt callback function for the SPI transfer from IRQ test.  <br /></td></tr>
<tr class="separator:gae822d8b6792c77654a3399d707a496c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac01076faa287a478d2fb01cd03275168" id="r_gac01076faa287a478d2fb01cd03275168"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac01076faa287a478d2fb01cd03275168">SpiTransferFromGpioInterrupt</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:gac01076faa287a478d2fb01cd03275168"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transfer from GPIO interrupt callback test.  <br /></td></tr>
<tr class="separator:gac01076faa287a478d2fb01cd03275168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa89207678aa1c6b26e07de1f242de838" id="r_gaa89207678aa1c6b26e07de1f242de838"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa89207678aa1c6b26e07de1f242de838">SpiTransferFromPitInterruptCallback</a> (void *param)</td></tr>
<tr class="memdesc:gaa89207678aa1c6b26e07de1f242de838"><td class="mdescLeft">&#160;</td><td class="mdescRight">PIT interrupt callback function for the SPI transfer from IRQ test.  <br /></td></tr>
<tr class="separator:gaa89207678aa1c6b26e07de1f242de838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82c0ee3624f5c5c7f3adbb08cb8c6893" id="r_ga82c0ee3624f5c5c7f3adbb08cb8c6893"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga82c0ee3624f5c5c7f3adbb08cb8c6893">SpiTransferFromPitInterrupt</a> (<a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a> slave)</td></tr>
<tr class="memdesc:ga82c0ee3624f5c5c7f3adbb08cb8c6893"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transfer from PIT interrupt callback test.  <br /></td></tr>
<tr class="separator:ga82c0ee3624f5c5c7f3adbb08cb8c6893"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A test module to verify implementation of the HAL. </p>
<hr  />
  <hr  />
  <p>A series of automated tests that can be executed on the target platform in order to verify the implementation of the HAL that are required by the API.</p>
<p>See <a class="el" href="#gaeaefab65deb7fdee9faeb9f713e88c6d" title="Executes a series of tests in order to verify the HAL implementation.">Argus_VerifyHALImplementation</a> for a detailed documentation.</p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gad9aa36016956a22b772d409089f0867d" name="gad9aa36016956a22b772d409089f0867d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9aa36016956a22b772d409089f0867d">&#9670;&#160;</a></span>error_log</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define error_log</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_function" href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2">print</a>(<span class="stringliteral">&quot;ERROR: &quot;</span> fmt <span class="stringliteral">&quot;\n&quot;</span>, ##__VA_ARGS__)</div>
<div class="ttc" id="agroup__argus__log_html_gaf623b0ecc471d68c31c110c6f9abd7d2"><div class="ttname"><a href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2">print</a></div><div class="ttdeci">status_t print(const char *fmt_s,...)</div><div class="ttdoc">A printf-like function to print formatted data to an debugging interface.</div><div class="ttdef"><b>Definition</b> sci_log.c:106</div></div>
</div><!-- fragment --><p>An error log message via <a class="el" href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2" title="A printf-like function to print formatted data to an debugging interface.">print</a> function. </p>

</div>
</div>
<a id="gaa1166162e755f430cb62825791eb4735" name="gaa1166162e755f430cb62825791eb4735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1166162e755f430cb62825791eb4735">&#9670;&#160;</a></span>HAL_TEST_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAL_TEST_VERSION&#160;&#160;&#160;&quot;v1.4&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Version number of the HAL Self Test. </p>
<hr  />
 <p>Changes:</p><ul>
<li>v1.0:<ul>
<li>Initial release.</li>
</ul>
</li>
<li>v1.1:<ul>
<li>Added additional print output.</li>
<li>Increased tolerance for timer test to 3%.</li>
<li>Fixed callback issue by disabling it after IRQ test.</li>
</ul>
</li>
<li>v1.2:<ul>
<li>Added PIT test cases.</li>
</ul>
</li>
<li>v1.3:<ul>
<li>Added test case for SPI maximum data transfer size.</li>
<li>Added tests for SPI transfers invoked from all IRQ callbacks.</li>
<li>Added verification of first PIT event occurrence.</li>
<li>Relaxed PIT pass conditions (0.1% -&gt; 0.5%)</li>
</ul>
</li>
<li>v1.4:<ul>
<li>Adopted to new multi-device HAL interface of API v1.4.4 release.</li>
<li>Added verification of SPI callback invocation.</li>
<li>Updated GPIO interrupt test to verify if delayed interrupt pending states can be detected via <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a>. </li>
</ul>
</li>
</ul>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaeaefab65deb7fdee9faeb9f713e88c6d" name="gaeaefab65deb7fdee9faeb9f713e88c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeaefab65deb7fdee9faeb9f713e88c6d">&#9670;&#160;</a></span>Argus_VerifyHALImplementation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> Argus_VerifyHALImplementation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>spi_slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a series of tests in order to verify the HAL implementation. </p>
<hr  />
 <p>A series of automated tests are executed on the target platform in order to verify the implementation of the HAL that are required by the API.</p>
<p>Each test will write an error description via the print (i.e. UART) function that shows what went wrong. Also an corresponding status is returned in case no print functionality is available.</p>
<p>The following tests are executed:</p>
<p><b>1) Timer Plausibility Test:</b></p>
<p>Rudimentary tests of the lifetime counter (LTC) implementation. This verifies that the LTC is running by checking if the returned values of two consecutive calls to the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function are ascending. An artificial delay using the NOP operation is induced such that the timer is not read to fast.</p>
<p><b>2) Timer Wraparound Test:</b></p>
<p>The LTC values must wrap from 999999 µs to 0 µs and increase the seconds counter accordingly. This test verifies the correct wrapping by consecutively calling the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function until at least 2 wraparound events have been occurred.</p>
<p><b>3) SPI Connection Test:</b></p>
<p>This test verifies the basic functionality of the SPI interface. The test utilizes the devices laser pattern register, which can be freely programmed by any 128-bit pattern. Thus, it writes a byte sequence and reads back the written values on the consecutive SPI access.</p>
<p><b>4) SPI Maximum Data Length Test</b>:</p>
<p>This test verifies the maximum data transfer length of the SPI interface. The test sends and receives up to 396 data bytes plus a single address byte over the SPI interface and verifies that no data get lost.</p>
<p><b>5) SPI Interrupt Test:</b></p>
<p>This test verifies the correct implementation of the device integration finished interrupt callback. Therefore it configures the device with a minimal setup to run a pseudo measurement that does not emit any laser light.</p>
<p>Note that this test does verify the GPIO interrupt that occurs whenever the device has finished the integration/measurement and new data is waiting to be read from the device. This does not test the interrupt that is triggered when the SPI transfer has finished.</p>
<p>The data ready interrupt implies two S2PI layer functions that are tested in this test: The <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a> function installs a callback function that is invoked whenever the IRQ occurs. The IRQ can be delayed due to higher priority task, e.g. from the user code. It is essential for the laser safety timeout algorithm to determine the device ready signal as fast as possible, another method is implemented to read if the IRQ is pending but the callback has not been reset yet. This is what the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> function is for.</p>
<p><b>6) GPIO Mode Test:</b></p>
<p>This test verifies the GPIO mode of the S2PI HAL module. This is done by leveraging the EEPROM readout sequence that accesses the devices EEPROM via a software protocol that depends on the GPIO mode.</p>
<p>This the requires several steps, most of them are already verified in previous tests:</p>
<ul>
<li>Basic device configuration and enable EEPROM.</li>
<li>Read EERPOM via GPIO mode and apply Hamming weight.</li>
<li>Repeat several times (to eliminate random readout issues).</li>
<li>Decode the EEPROM (using EEPROM_Decode in argus_cal_eeprom.c).</li>
<li>Check if Module Number and Chip ID is not 0.</li>
</ul>
<p><b>7) Timer Test for Lifetime Counter:</b></p>
<p>The test verifies the lifetime counter timer HAL implementation by comparing the timings to the AFBR-S50 device as a reference. Therefore several measurement are executed on the device, each with a different averaging sample count. The elapsed time increases linearly with the number of averaging samples. In order to remove the time for software/setup, a linear regression fit is applied to the measurement results and only the slope is considered for the result. A delta of 102.4 microseconds per sample is expected. If the measured delta per sample is within an specified error range, the timer implementation is considered correct.</p>
<p><b>8) Timer Test for Periodic Interrupt Timer (optional):</b></p>
<p>The test verifies the correct implementation of the periodic interrupt timer (PIT). It sets different intervals and waits for a certain number of interrupts to happen. Each interrupt event is counted and the time between the first and the last interrupt is measured. Finally, the measured interval is compared to the expectations.</p>
<p>Note that this test is only executed if the PIT is actually implemented. Otherwise, the test is skipped.</p>
<p><b>9) SPI Transfer from Interrupt Callback Test:</b></p>
<p>The test verifies that the <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> method of the S2PI layer can be invoked from a interrupt callback function too. Thus, it repeats the S2PI Connection Test but this time from different interrupt callback functions:</p>
<ul>
<li>SPI Callback: The first transfer is invoked from thread level, the second transfer is invoke from the SPI interrupt callback function.</li>
<li>GPIO Callback: The device is setup to trigger an GPIO interrupt (see also the SPI Interrupt Test). The corresponding GPIO interrupt callback function will trigger the first transfer while the second one is triggered from the SPI callback function.</li>
<li>PIT Callback (optional): This test is only executed optional if the PIT interface is implemented. The test sequence is the same as for the GPIO callback, but the first transfer is triggered from the PIT callback function.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="#gaa1166162e755f430cb62825791eb4735" title="Version number of the HAL Self Test.">HAL_TEST_VERSION</a> for a version history and change log of the HAL self tests.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_slave</td><td>The SPI hardware slave, i.e. the specified CS and IRQ lines. This is actually just a number that is passed to the SPI interface to distinct for multiple SPI slave devices. Note that the slave must be not equal to 0, since is reserved for error handling.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a> (<a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success). </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="01_simple_example_with_hal_self_test_8c-example.html#a28">01_simple_example_with_hal_self_test.c</a>, and <a class="el" href="02_advanced_example_with_hal_self_test_8c-example.html#a25">02_advanced_example_with_hal_self_test.c</a>.</dd>
</dl>

</div>
</div>
<a id="gac78eb59125d9954d9104ca21ed2014ed" name="gac78eb59125d9954d9104ca21ed2014ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac78eb59125d9954d9104ca21ed2014ed">&#9670;&#160;</a></span>CheckTimerCounterValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> CheckTimerCounterValues </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>hct</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>lct</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks the validity of timer counter values. </p>
<hr  />
 <p>This verifies that the counter values returned from the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function are valid. This means, the low counter value <code>lct</code> is within 0 and 999999 µs.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> on failure (check the error log for more information). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad3f9878573bb6d8a97ea811307bfb181" name="gad3f9878573bb6d8a97ea811307bfb181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3f9878573bb6d8a97ea811307bfb181">&#9670;&#160;</a></span>ConfigureDevice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> ConfigureDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>rcoTrim</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures the device with a bare minimum setup to run the tests. </p>
<hr  />
 <p>This function applies a number of configuration values to the device, such that a pseudo measurement w/o laser output can be performed.</p>
<p>A <code>rcoTrim</code> parameter can be passed to adjust the actual clock setup.</p>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">rcoTrim</td><td>The RCO Trimming value added to the nominal RCO register value. Pass 0 if no fine tuning is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the SPI operation did not finished within a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaabf543227ed5f382c0838b534f4cd590" name="gaabf543227ed5f382c0838b534f4cd590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabf543227ed5f382c0838b534f4cd590">&#9670;&#160;</a></span>GPIO_Callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void GPIO_Callback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IRQ callback dedicated to the <a class="el" href="#gae88074199ee51b5974679686149976d6" title="SPI Interrupt Test for S2PI HAL Implementation.">GpioInterruptTest</a>. </p>
<hr  />
 <p>The callback is invoked by the API when the device GPIO IRQ is pending after a measurement has been executed and data is ready to be read from the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The abstract pointer to the boolean value that determines if the callback is invoked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa3ac59ad4d04a59b10bdfc82d80d3cf8" name="gaa3ac59ad4d04a59b10bdfc82d80d3cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3ac59ad4d04a59b10bdfc82d80d3cf8">&#9670;&#160;</a></span>GPIO_SPI_Callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> GPIO_SPI_Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SPI transfer callback dedicated to the <a class="el" href="#gae88074199ee51b5974679686149976d6" title="SPI Interrupt Test for S2PI HAL Implementation.">GpioInterruptTest</a>. </p>
<hr  />
 <p>The callback is invoked by the S2PI layer when the SPI transfer finished IRQ is invoked. The callback is used to simulate a deferred GPIO interrupt by locking the interrupts until the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> detects an GPIO interrupt pending state and returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The status of the SPI transfer. </td></tr>
    <tr><td class="paramname">param</td><td>The abstract pointer to the boolean value that determines if the callback is invoked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the <code>param</code> parameter is NULL.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> does not return 0 after a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code that may be received from the S2PI module via the <code>status</code> parameter. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae88074199ee51b5974679686149976d6" name="gae88074199ee51b5974679686149976d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae88074199ee51b5974679686149976d6">&#9670;&#160;</a></span>GpioInterruptTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> GpioInterruptTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI Interrupt Test for S2PI HAL Implementation. </p>
<hr  />
 <p>This test verifies the correct implementation of the device integration finished interrupt callback, a.k.a. the GPIO interrupt. Therefore it configures the device with a minimal setup to run a pseudo measurement that does not emit any laser light but triggers an GPIO interrupt once finished.</p>
<p>The data ready interrupt implies two S2PI layer functions that are tested in this test: The <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a> function installs a callback function that is invoked whenever the IRQ occurs and the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> function to obtain the pending interrupt state.</p>
<p>The IRQ can be delayed due to higher priority task, e.g. from the user code. It is essential for the laser safety timeout algorithm to determine the device ready signal as fast as possible. Thus a method is required to obtain if the IRQ is currently pending but the callback has not been invoked yet. This is what the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> function is for. Note that the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> must return 0 if not interrupt is pending and 1 else. Just like the IRQ pin is active low.</p>
<p>The test simulate a delayed GPIO interrupt by locking the interrupts until the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> detects an GPIO interrupt pending state and returns 0. This is done by the <a class="el" href="#gaa3ac59ad4d04a59b10bdfc82d80d3cf8" title="The SPI transfer callback dedicated to the GpioInterruptTest.">GPIO_SPI_Callback</a> function.</p>
<p>Note that this test does verify the GPIO interrupt that occurs whenever the device has finished the integration/measurement and new data is waiting to be read from the device. This does not test the interrupt that is triggered when the SPI transfer has finished.</p>
<dl class="section warning"><dt>Warning</dt><dd>The test assumes the device is in a fresh power on state and no additional reset is required. If the test fail, one may want to power cycle the device and try again.</dd>
<dd>
The test locks the interrupts for a quite long period of time in order to simulate a delayed GPIO interrupt. This is not a good practice in production code. However, it is required to test the <a class="el" href="group__argus__s2pi.html#gad2608e23e402fcf759d57a7ff7c453e6" title="Reads the current interrupt pending status of the IRQ pin.">S2PI_ReadIrqPin</a> function. Please be aware of that when you run this test.</dd>
<dd>
The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if either the SPI operation did not finished or the IRQ was not detected within a specified time (check also timer HAL implementation).</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the IRQ pin readout failed and the no or invalid interrupt was detected.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a>, <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> or <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga9b603e7cdf2dc1f7d563204561d4eb69" name="ga9b603e7cdf2dc1f7d563204561d4eb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b603e7cdf2dc1f7d563204561d4eb69">&#9670;&#160;</a></span>GpioModeTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> GpioModeTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GPIO Mode Test for S2PI HAL Implementation. </p>
<hr  />
 <p>This test verifies the GPIO mode of the S2PI HAL module. This is done by leveraging the EEPROM readout sequence that accesses the devices EEPROM via a software protocol that depends on the GPIO mode.</p>
<p>This the requires several steps, most of them are already verified in previous tests:</p><ul>
<li>Basic device configuration and enable EEPROM.</li>
<li>Read EEPROM via GPIO mode and apply Hamming weight</li>
<li>Repeat several times (to eliminate random readout issues).</li>
<li>Decode the EEPROM (using EEPROM_Decode in argus_cal_eeprom.c)</li>
<li>Check if Module Number and Chip ID is not 0</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the GPIO test fails.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba9c9254bc6cb75929af97e49065447a38">STATUS_ARGUS_EEPROM_BIT_ERROR</a> if the Hamming weight fails.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf" title="Captures the S2PI pins for GPIO usage.">S2PI_CaptureGpioControl</a>, <a class="el" href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772" title="Releases the S2PI pins from GPIO usage and switches back to SPI mode.">S2PI_ReleaseGpioControl</a>, <a class="el" href="group__argus__s2pi.html#gaf4e0e0945f3abef86ed42aaecf2ff861" title="Writes the output for a specified SPI pin in GPIO mode.">S2PI_WriteGpioPin</a> or <a class="el" href="group__argus__s2pi.html#ga3695298d452f8af4a4bcbff930636cdc" title="Reads the input from a specified SPI pin in GPIO mode.">S2PI_ReadGpioPin</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gacbe38b477d2e0181623d5649b5564578" name="gacbe38b477d2e0181623d5649b5564578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbe38b477d2e0181623d5649b5564578">&#9670;&#160;</a></span>MeasurementCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MeasurementCallback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function for the data ready interrupt. </p>
<hr  />
 <p>The function is called by the S2PI layer when the data ready interrupt is pending. The function sets the <code>param</code> to <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba99ade6ecff7f9e1fb13b62be39b85d82">STATUS_IDLE</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The parameter passed to the <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a> function as an abstract pointer to an <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092" title="Type used for all status and error return values.">status_t</a> type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8c007da7582f5d0ea99a78fc570ce28a" name="ga8c007da7582f5d0ea99a78fc570ce28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c007da7582f5d0ea99a78fc570ce28a">&#9670;&#160;</a></span>PIT_Callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PIT_Callback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function invoked by the PIT. </p>
<hr  />
 <p>The function that is invoked every time a specified interval elapses. An abstract parameter is passed to the function whenever it is called.</p>
<p>This implementation collects callback time stamps and counts the number of callback events using the abstract parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>An abstract parameter to be passed to the callback. This is also the identifier of the given interval. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae37b5a660ee500760b4b83680a789408" name="gae37b5a660ee500760b4b83680a789408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae37b5a660ee500760b4b83680a789408">&#9670;&#160;</a></span>PITTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> PITTest </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test for PIT HAL Implementation by comparing timings to the device. </p>
<hr  />
 <p>The test verifies the timer HAL implementation by comparing the period between the interrupts with the lifetime timer values that has been already verified in a previous test (see <a class="el" href="#ga659f3fe16eb4b0b025f5ef6338850f14" title="Test for Timer HAL Implementation by comparing timings to the device.">TimerTest</a>).</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70bab61c5ef368fbf03fdc1fb566c63f2f9a">ERROR_NOT_IMPLEMENTED</a> if the PIT functionality is not implemented and the test is skipped.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the measured interval does not match the expectations or the PIT was not disabled properly.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if either the PIT events do not occur within the expected time.</li>
<li>The PIT layer error code if <a class="el" href="group__argus__timer.html#ga36c65741d5af60b261e68308c0fa9c5f" title="Sets the timer interval for a specified callback parameter.">Timer_SetInterval</a> or <a class="el" href="group__argus__timer.html#ga9feb1e1bebe79528bd1b961fab936f24" title="Installs an periodic timer callback function.">Timer_SetCallback</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga79a2ce2f53fd60f372505daf74310e89" name="ga79a2ce2f53fd60f372505daf74310e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79a2ce2f53fd60f372505daf74310e89">&#9670;&#160;</a></span>ReadEEPROM()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> ReadEEPROM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>eeprom</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the EEPROM byte-wise and applies Hamming weight. </p>
<hr  />
<p>The EEPROM bytes are consecutively read from the device via GPIO mode. The EEPROM_Read function is an internal API function that enables the GPIO mode from the S2PI module and reads the data via a software bit-banging protocol. Finally it disables the GPIO mode and returns to SPI mode.</p>
<p>The calls to S2PI HAL module is as follows:</p><ol type="1">
<li>S2PI_CaptureGpioControl</li>
<li>multiple calls to S2PI_WriteGpioPin and S2PI_ReadGpioPin</li>
<li>S2PI_ReleaseGpioControl</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">eeprom</td><td>The 16 byte array to be filled with EEPROM data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba9c9254bc6cb75929af97e49065447a38">STATUS_ARGUS_EEPROM_BIT_ERROR</a> if the Hamming weight fails. interrupt was detected.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf" title="Captures the S2PI pins for GPIO usage.">S2PI_CaptureGpioControl</a>, <a class="el" href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772" title="Releases the S2PI pins from GPIO usage and switches back to SPI mode.">S2PI_ReleaseGpioControl</a>, <a class="el" href="group__argus__s2pi.html#gaf4e0e0945f3abef86ed42aaecf2ff861" title="Writes the output for a specified SPI pin in GPIO mode.">S2PI_WriteGpioPin</a> or <a class="el" href="group__argus__s2pi.html#ga3695298d452f8af4a4bcbff930636cdc" title="Reads the input from a specified SPI pin in GPIO mode.">S2PI_ReadGpioPin</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga84e9bed5f5b5498836ee576282f85585" name="ga84e9bed5f5b5498836ee576282f85585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84e9bed5f5b5498836ee576282f85585">&#9670;&#160;</a></span>ReadRcoTrim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> ReadRcoTrim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *</td>          <td class="paramname"><span class="paramname"><em>rcotrim</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the RCO_TRIM value from the devices EEPROM. </p>
<hr  />
 <p>The function reads the devices EEPROM via GPIO mode and extracts the RCO_TRIM value from the EEPROM map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">rcotrim</td><td>The read RCO_TRIM value will be returned via this pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba9c9254bc6cb75929af97e49065447a38">STATUS_ARGUS_EEPROM_BIT_ERROR</a> if the Hamming weight fails.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70bab6d45f3ac20a25b5d9b33ab2565f6f0c">ERROR_ARGUS_UNKNOWN_MODULE</a> if the EEPROM module number is invalid.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf" title="Captures the S2PI pins for GPIO usage.">S2PI_CaptureGpioControl</a>, <a class="el" href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772" title="Releases the S2PI pins from GPIO usage and switches back to SPI mode.">S2PI_ReleaseGpioControl</a>, <a class="el" href="group__argus__s2pi.html#gaf4e0e0945f3abef86ed42aaecf2ff861" title="Writes the output for a specified SPI pin in GPIO mode.">S2PI_WriteGpioPin</a> or <a class="el" href="group__argus__s2pi.html#ga3695298d452f8af4a4bcbff930636cdc" title="Reads the input from a specified SPI pin in GPIO mode.">S2PI_ReadGpioPin</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga574338ce27c9762e0f6f29b285a5c98c" name="ga574338ce27c9762e0f6f29b285a5c98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga574338ce27c9762e0f6f29b285a5c98c">&#9670;&#160;</a></span>RunMeasurement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> RunMeasurement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>samples</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggers a measurement on the device and waits for the data ready interrupt. </p>
<hr  />
 <p>The function triggers a measurement cycle on the device and waits until the measurement has been finished. A <code>sample</code> count can be specified to setup individual number of digital averaging.</p>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">samples</td><td>The specified number of averaging samples for the measurement.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if either the SPI operation did not finished or the IRQ was not detected within a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a>, <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> or <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga77ada738d9ac6ace8866e898d11fad10" name="ga77ada738d9ac6ace8866e898d11fad10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77ada738d9ac6ace8866e898d11fad10">&#9670;&#160;</a></span>RunPITTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> RunPITTest </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>exp_dt_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a PIT measurement and verifies the callback interval. </p>
<hr  />
 <p>The function configures the PIT with a given interval and waits several callback events to happen. In each callback event, the elapsed time is measured and the number of calls are counted. Finally, the average interrupt period is compared with the lifetime timer that has been already verified in a previous test (see <a class="el" href="#ga659f3fe16eb4b0b025f5ef6338850f14" title="Test for Timer HAL Implementation by comparing timings to the device.">TimerTest</a>). The time until the first interrupt event is also verified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exp_dt_us</td><td>The expected timer interval in microseconds. </td></tr>
    <tr><td class="paramname">n</td><td>The number of PIT events to await.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the measured interval does not match the expectations or the PIT was not disabled properly.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if either the PIT events do not occur within the expected time.</li>
<li>The PIT layer error code if <a class="el" href="group__argus__timer.html#ga36c65741d5af60b261e68308c0fa9c5f" title="Sets the timer interval for a specified callback parameter.">Timer_SetInterval</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga66cbe1a4a0fc626ff7131e3a1a62fc8d" name="ga66cbe1a4a0fc626ff7131e3a1a62fc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66cbe1a4a0fc626ff7131e3a1a62fc8d">&#9670;&#160;</a></span>SpiConnectionTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiConnectionTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI Connection Test for S2PI HAL Implementation. </p>
<hr  />
 <p>This test verifies the basic functionality of the SPI interface. </p><pre class="fragment">     The test utilizes the devices laser pattern register, which can
     be freely programmed by any 128-bit pattern. Thus, it writes a byte
     sequence and reads back the written values on the consecutive SPI
     access.

     Note: The test verifies the SPI interface transfer functionality
     in blocking mode and also verifies the interrupt callback.
     In order to wait for the transfer to finish, it reads the S2PI
     status in a loop. If the status does not change to #STATUS_IDLE,
     the test will fail with an #ERROR_TIMEOUT. Finally, the test will
     verify the SPI transfer callback status.
</pre><dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the operation did not finished within a specified time (check also timer HAL implementation).</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a>, <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> or the SPI callback yield any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga1c8c5a3658ad01d3da1fd7f1377c009a" name="ga1c8c5a3658ad01d3da1fd7f1377c009a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c8c5a3658ad01d3da1fd7f1377c009a">&#9670;&#160;</a></span>SpiMaxLengthTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiMaxLengthTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum SPI Data Size Test for S2PI HAL Implementation. </p>
<hr  />
 <p>This test verifies the maximum data transfer length of the SPI interface. The test sends and receives up to 396 data bytes plus a single address byte over the SPI interface and verifies that no data get lost.</p>
<p>The test utilizes the channel select register which is 3 bytes plus address. This register can be repeatedly written with any pattern using the DMA mode. The register is written 100 times in a row to verify that long data frames with up to 400 bytes can be transmitted.</p>
<p>Note that this test was motivated by an invalid implementation that used uint8_t type for the frame length in the <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> function instead of an uint16_t value. This resulted in a maximum data length of 141 bytes (367 &amp; 0xFF = 141) when reading the data value register.</p>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the operation did not finished within a specified time (check also timer HAL implementation).</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gac01076faa287a478d2fb01cd03275168" name="gac01076faa287a478d2fb01cd03275168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac01076faa287a478d2fb01cd03275168">&#9670;&#160;</a></span>SpiTransferFromGpioInterrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferFromGpioInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI transfer from GPIO interrupt callback test. </p>
<hr  />
 <p>This test verifies the interrupt functionality of the SPI interface. The test verifies that an SPI transfer can be triggered from the GPIO interrupt service routine context.</p>
<p>The test basically repeats the <a class="el" href="#ga04c1542f0a3250e50afb55709d2f0d95" title="SPI transfer from SPI interrupt callback test.">SpiTransferFromSpiInterrupt</a> but this time it invokes the first SPI transfer from the GPIO callback function. In order to trigger a GPIO interrupt, the device is configured and a measurement is started (see <a class="el" href="#gae88074199ee51b5974679686149976d6" title="SPI Interrupt Test for S2PI HAL Implementation.">GpioInterruptTest</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the test did not finish within a specified time.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or the GPIO or SPI callback yield in any non-OK status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae822d8b6792c77654a3399d707a496c3" name="gae822d8b6792c77654a3399d707a496c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae822d8b6792c77654a3399d707a496c3">&#9670;&#160;</a></span>SpiTransferFromGpioInterruptCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SpiTransferFromGpioInterruptCallback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GPIO interrupt callback function for the SPI transfer from IRQ test. </p>
<hr  />
 <p>The interrupt callback is invoked from the S2PI module upon receiving an GPIO interrupt from the devices IRQ pin. The callback is used by the <a class="el" href="#gac01076faa287a478d2fb01cd03275168" title="SPI transfer from GPIO interrupt callback test.">SpiTransferFromGpioInterrupt</a> test to trigger the first SPI transfer from the interrupt callback context.</p>
<dl class="section note"><dt>Note</dt><dd>The callback also utilizes the <a class="el" href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2" title="A printf-like function to print formatted data to an debugging interface.">print</a> functionality. This requires a correct implementation of the corresponding function such that it can be invoked from the given interrupt context. This usually requires the underlying send (e.g. UART or USB send functions) to have higher priority that this interrupt in order to finished the print statement asynchronously.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The abstract interrupt callback parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga27a209a4e756f9b4548b9b5040287c7b" name="ga27a209a4e756f9b4548b9b5040287c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27a209a4e756f9b4548b9b5040287c7b">&#9670;&#160;</a></span>SpiTransferFromInterruptTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferFromInterruptTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI Transfer from Interrupt Test for S2PI HAL Implementation. </p>
<hr  />
 <p>This test verifies the interrupt functionality of the SPI interface. The test verifies that an SPI transfer can be triggered from the interrupt service routine context. I.e. the <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> function is called from the following interrupts:</p><ul>
<li>SPI interrupt</li>
<li>GPIO interrupt</li>
<li>PIT interrupt (optional, if PIT is implemented)</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the operation did not finished within a specified time (check also timer HAL implementation).</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga82c0ee3624f5c5c7f3adbb08cb8c6893" name="ga82c0ee3624f5c5c7f3adbb08cb8c6893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82c0ee3624f5c5c7f3adbb08cb8c6893">&#9670;&#160;</a></span>SpiTransferFromPitInterrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferFromPitInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI transfer from PIT interrupt callback test. </p>
<hr  />
 <p>This test verifies the interrupt functionality of the SPI interface. The test verifies that an SPI transfer can be triggered from the PIT interrupt service routine context.</p>
<p>The test basically repeats the <a class="el" href="#ga04c1542f0a3250e50afb55709d2f0d95" title="SPI transfer from SPI interrupt callback test.">SpiTransferFromSpiInterrupt</a> but this time it invokes the first SPI transfer from the PIT callback function. In order to trigger a PIT interrupt, the timer is configured with a small interval and immediately disabled upon the first event.</p>
<p>Note that this test is only executed if the PIT module is actually implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70bab61c5ef368fbf03fdc1fb566c63f2f9a">ERROR_NOT_IMPLEMENTED</a> if the PIT functionality is not implemented and the test is skipped.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the test did not finish within a specified time.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or the SPI callback yield in any non-OK status.</li>
<li>The PIT layer error code if <a class="el" href="group__argus__timer.html#ga9feb1e1bebe79528bd1b961fab936f24" title="Installs an periodic timer callback function.">Timer_SetCallback</a> or the PIT callback yield in any non-OK status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa89207678aa1c6b26e07de1f242de838" name="gaa89207678aa1c6b26e07de1f242de838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa89207678aa1c6b26e07de1f242de838">&#9670;&#160;</a></span>SpiTransferFromPitInterruptCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SpiTransferFromPitInterruptCallback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>PIT interrupt callback function for the SPI transfer from IRQ test. </p>
<hr  />
 <p>The interrupt callback is invoked from the PIT module upon periodic timeout event. The callback is used by the <a class="el" href="#ga82c0ee3624f5c5c7f3adbb08cb8c6893" title="SPI transfer from PIT interrupt callback test.">SpiTransferFromPitInterrupt</a> test to trigger the first SPI transfer from the interrupt callback context.</p>
<dl class="section note"><dt>Note</dt><dd>The callback also utilizes the <a class="el" href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2" title="A printf-like function to print formatted data to an debugging interface.">print</a> functionality. This requires a correct implementation of the corresponding function such that it can be invoked from the given interrupt context. This usually requires the underlying send (e.g. UART or USB send functions) to have higher priority that this interrupt in order to finished the print statement asynchronously.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The abstract interrupt callback parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga04c1542f0a3250e50afb55709d2f0d95" name="ga04c1542f0a3250e50afb55709d2f0d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04c1542f0a3250e50afb55709d2f0d95">&#9670;&#160;</a></span>SpiTransferFromSpiInterrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferFromSpiInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI transfer from SPI interrupt callback test. </p>
<hr  />
 <p>This test verifies the interrupt functionality of the SPI interface. The test verifies that an SPI transfer can be triggered from the SPI interrupt service routine context.</p>
<p>The test basically repeats the <a class="el" href="#ga66cbe1a4a0fc626ff7131e3a1a62fc8d" title="SPI Connection Test for S2PI HAL Implementation.">SpiConnectionTest</a> but this time it invokes the second SPI transfer from the SPI callback function. A very common error is that the callback is invoked while the SPI module is still busy which does not allow to invoke another SPI transfer from the callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the test did not finish within a specified time.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the device access failed and the read data did not match the expected values.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or the SPI callback yield in any non-OK status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga03c63fbf22df75c0fcfee715fcbf22e6" name="ga03c63fbf22df75c0fcfee715fcbf22e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03c63fbf22df75c0fcfee715fcbf22e6">&#9670;&#160;</a></span>SpiTransferFromSpiInterruptCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferFromSpiInterruptCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI interrupt callback function for the SPI transfer from IRQ test. </p>
<hr  />
 <p>The interrupt callback is invoked from the S2PI module upon finishing the SPI transfer. The callback is used by the <a class="el" href="#ga04c1542f0a3250e50afb55709d2f0d95" title="SPI transfer from SPI interrupt callback test.">SpiTransferFromSpiInterrupt</a> test to trigger the second SPI transfer from the interrupt callback context.</p>
<dl class="section note"><dt>Note</dt><dd>The callback also utilizes the <a class="el" href="group__argus__log.html#gaf623b0ecc471d68c31c110c6f9abd7d2" title="A printf-like function to print formatted data to an debugging interface.">print</a> functionality. This requires a correct implementation of the corresponding function such that it can be invoked from the given interrupt context. This usually requires the underlying send (e.g. UART or USB send functions) to have higher priority that this interrupt in order to finished the print statement asynchronously.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The S2PI module status passed to the callback. </td></tr>
    <tr><td class="paramname">param</td><td>The abstract interrupt callback parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba9f5133f88de0116e3c7b131ebcf366a3">ERROR_INVALID_ARGUMENT</a> if the <code>param</code> is NULL.</li>
<li>The S2PI layer error code if any is passed to the callback function.</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> return any. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga92646bc9dd4734c05b2a6da1644c56a2" name="ga92646bc9dd4734c05b2a6da1644c56a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92646bc9dd4734c05b2a6da1644c56a2">&#9670;&#160;</a></span>SpiTransferInterruptCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SpiTransferInterruptCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPI interrupt callback function for the SPI transfer interrupt test. </p>
<hr  />
 <p>The interrupt callback is invoked from the S2PI module upon finishing the SPI transfer. The callback is used by the <a class="el" href="#ga2fe1dddf82d3558b7820acb4dc5d6a09" title="Helper function for transfer data to SPI in blocking mode.">SPITransferSync</a> helper function to retrieve the status of the SPI transfer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The S2PI module status passed to the callback. </td></tr>
    <tr><td class="paramname">param</td><td>The abstract interrupt callback parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a>. </dd></dl>

</div>
</div>
<a id="ga2fe1dddf82d3558b7820acb4dc5d6a09" name="ga2fe1dddf82d3558b7820acb4dc5d6a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fe1dddf82d3558b7820acb4dc5d6a09">&#9670;&#160;</a></span>SPITransferSync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SPITransferSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for transfer data to SPI in blocking mode. </p>
<hr  />
 <p>Calls the <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> function and waits until the transfer has been finished by checking the <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return code to become <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba99ade6ecff7f9e1fb13b62be39b85d82">STATUS_IDLE</a> (or <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a>).</p>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">data</td><td>The data array to be transferred. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data array to be transferred.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the operation did not finished within a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga41c21ea56565af755955055ffee11a05" name="ga41c21ea56565af755955055ffee11a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41c21ea56565af755955055ffee11a05">&#9670;&#160;</a></span>TimerPlausibilityTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> TimerPlausibilityTest </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plausibility Test for Timer HAL Implementation. </p>
<hr  />
 <p>Rudimentary tests the lifetime counter (LTC) implementation. This verifies that the LTC is running by checking if the returned values of two consecutive calls to the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function are ascending. An artificial delay using the NOP operation is induced such that the timer is not read to fast.</p>
<dl class="section warning"><dt>Warning</dt><dd>If using an ultra-fast processor with a rather low timer granularity, the test may fail! In this case, it could help to increase the delay by increasing the for-loop exit criteria.</dd>
<dd>
This test does not test yet verify if the timing is correct at all! This it done in later test...</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> on failure (check the error log for more information). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga659f3fe16eb4b0b025f5ef6338850f14" name="ga659f3fe16eb4b0b025f5ef6338850f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga659f3fe16eb4b0b025f5ef6338850f14">&#9670;&#160;</a></span>TimerTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> TimerTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test for Timer HAL Implementation by comparing timings to the device. </p>
<hr  />
 <p>The test verifies the timer HAL implementation by comparing the timings to the AFBR-S50 device as a reference. Therefore several measurement are executed on the device, each with a different averaging sample count. The elapsed time increases linearly with the number of averaging samples. In order to remove the time for software/setup, a linear regression fit is applied to the measurement results and only the slope is considered for the result. A delta of 102.4 microseconds per sample is expected. If the measured delta per sample is within an specified error range, the timer implementation is considered correct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> if the timer test fails.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba9c9254bc6cb75929af97e49065447a38">STATUS_ARGUS_EEPROM_BIT_ERROR</a> if the EEPROM Hamming weight fails.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70bab6d45f3ac20a25b5d9b33ab2565f6f0c">ERROR_ARGUS_UNKNOWN_MODULE</a> if the EEPROM module number is invalid.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if either the SPI operation did not finished or the IRQ was not detected within a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a>, <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a>, <a class="el" href="group__argus__s2pi.html#ga8e2c5cf733c131a0856ee3c3d073b29c" title="Set a callback for the GPIO IRQ for a specified S2PI slave.">S2PI_SetIrqCallback</a>, <a class="el" href="group__argus__s2pi.html#ga48abf1c772d2f89436cba9c32a1cdcaf" title="Captures the S2PI pins for GPIO usage.">S2PI_CaptureGpioControl</a>, <a class="el" href="group__argus__s2pi.html#ga35cc8f0eeec245733773f34bd5985772" title="Releases the S2PI pins from GPIO usage and switches back to SPI mode.">S2PI_ReleaseGpioControl</a>, <a class="el" href="group__argus__s2pi.html#gaf4e0e0945f3abef86ed42aaecf2ff861" title="Writes the output for a specified SPI pin in GPIO mode.">S2PI_WriteGpioPin</a> or <a class="el" href="group__argus__s2pi.html#ga3695298d452f8af4a4bcbff930636cdc" title="Reads the input from a specified SPI pin in GPIO mode.">S2PI_ReadGpioPin</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga980f35ff76c95550b670cf77db10f09d" name="ga980f35ff76c95550b670cf77db10f09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga980f35ff76c95550b670cf77db10f09d">&#9670;&#160;</a></span>TimerWraparoundTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> TimerWraparoundTest </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wraparound Test for the Timer HAL Implementation. </p>
<hr  />
 <p>The LTC values must wrap from 999999 µs to 0 µs and increase the seconds counter accordingly. This test verifies the correct wrapping by consecutively calling the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function until at least 2 wraparound events have been occurred.</p>
<dl class="section note"><dt>Note</dt><dd>This test requires the timer to basically run and return ascending values. Also, if the timer is too slow, this may take very long! Usually, the test takes 2 seconds, since 2 wraparound events are verified.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This test does not test yet verify if the timing is correct at all! This it done in later test...</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba841c3e4e3ac94c0005f107140e184276">ERROR_FAIL</a> on failure (check the error log for more information). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga50cb46632e54a6c66bd513506759e348" name="ga50cb46632e54a6c66bd513506759e348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50cb46632e54a6c66bd513506759e348">&#9670;&#160;</a></span>TriggerMeasurement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> TriggerMeasurement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>slave</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>samples</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__argus__s2pi.html#ga0146c4f3ef32320d6fc869b9018ffeeb">s2pi_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>callbackData</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggers a measurement on the device with specified sample count. </p>
<hr  />
 <p>The function triggers a measurement cycle on the device. A <code>sample</code> count can be specified to setup individual number of digital averaging.</p>
<p>The measurement in triggered asynchronously without waiting for any event to finish.</p>
<dl class="section warning"><dt>Warning</dt><dd>The test utilizes already the timer HAL in order to implement a rudimentary timeout. However, at this time, only some basic plausibility checks are performed on the timer HAL. I.e. if there is an issue in the time HAL, e.g. too fast or too slow time counting, the test may fail with an <a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a>. In this case, one also needs to verify the timer HAL, especially the <a class="el" href="group__argus__timer.html#ga1d634822b505ed359998b94acc5ec8ab" title="Obtains the lifetime counter value from the timers.">Timer_GetCounterValue</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>The S2PI slave parameter passed to the S2PI HAL functions. </td></tr>
    <tr><td class="paramname">samples</td><td>The specified number of averaging samples for the measurement. </td></tr>
    <tr><td class="paramname">callback</td><td>An optional SPI callback. </td></tr>
    <tr><td class="paramname">callbackData</td><td>The optional callback data parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a>:<ul>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success.</li>
<li><a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba4d0f7be53b837f004379ac6bbd56f1e2">ERROR_TIMEOUT</a> if the operation did not finished within a specified time (check also timer HAL implementation).</li>
<li>The S2PI layer error code if <a class="el" href="group__argus__s2pi.html#ga0c8f883938de571dbd73033b4957a987" title="Transfers a single SPI frame asynchronously.">S2PI_TransferFrame</a> or <a class="el" href="group__argus__s2pi.html#ga979bf52b555605a0e0c471627cd46071" title="Returns the status of the SPI module.">S2PI_GetStatus</a> return any negative status. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gac03e69d9e7a97f137e4f08a679c5e941" name="gac03e69d9e7a97f137e4f08a679c5e941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac03e69d9e7a97f137e4f08a679c5e941">&#9670;&#160;</a></span>VerifyHALImplementation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> VerifyHALImplementation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__argus__api.html#gaa236b64d7430965890e9c6834e24c317">s2pi_slave_t</a></td>          <td class="paramname"><span class="paramname"><em>spi_slave</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a series of tests in order to verify the HAL implementation. </p>
<hr  />
 <p>See <a class="el" href="#gaeaefab65deb7fdee9faeb9f713e88c6d" title="Executes a series of tests in order to verify the HAL implementation.">Argus_VerifyHALImplementation</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_slave</td><td>The SPI hardware slave.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the <a class="el" href="group__argus__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status</a> (<a class="el" href="group__argus__status.html#gga67a0db04d321a74b7e7fcfd3f1a3f70ba7e4a42e3b6dd63708c64cf3db6f69566">STATUS_OK</a> on success). </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="footer"> 
			<a href="https://www.broadcom.com/">Broadcom Inc.</a>
		</li>
	</ul>
</div>
</body>
</html>
